webpackJsonp([63],{"309r":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("dnEF"),c=n("LWri"),u=n("ZtCB"),p=n.n(u),d=n("sOF4"),m=n("dCTv"),h=n("i0Ug"),f=n("MQ2h"),g=n.n(f),b=n("Rmuw"),y=n("KDcb"),w=n("S+Qs"),v=n("mHth"),E=function e(t){return t&&t.display_data&&t.display_data.refresh_homefeed_background},x=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.inRenux=function(){var e=a.props.experience;return e&&500278===e.experience_id},a.handleDismiss=function(){var e=a.props,t=e.dispatch,n=e.experience,r=e.experienceClient,o=e.viewer;r.dismissExperience(11,500278),E(n)&&t(Object(w.a)("UserHomefeedResource",Object(y.d)({experience:n,inNux:!0,staticFeed:!1,viewerIsPartner:o.isPartner})))},a.handleComplete=function(){var e=a.props,t=e.dispatch,n=e.experience,r=e.experienceClient,o=e.viewer;r.completeExperience(11,500278),t(Object(w.a)("UserHomefeedResource",Object(y.d)({experience:n,inNux:!0,staticFeed:!1,viewerIsPartner:o.isPartner})))},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.experience,r=t.experienceClient;if(this.inRenux()&&(r.viewExperience(11,500278),E(n))){var o=n&&n.display_data&&n.display_data.redo_homefeed_background;p.a.create("OrientationRefreshHomefeedResource",{redo_homefeed:o}).callUpdate()}},t.prototype.render=function e(){if(this.inRenux()){var t=this.props.experience.display_data;return s.a.createElement(c.a,Object.assign({},Object(b.a)(d.a,!0)(t),{handleComplete:this.handleComplete,handleDismiss:this.handleDismiss},this.props))}return null},t}(i.Component);t.a=Object(f.compose)(m.b,v.a,h.a)(x)},"32ZW":function(e,t,n){"use strict";function r(e,t){return e.some(function(e){return e.id===t.id})}function o(e){if(e>=0){for(var t=[[1e9,"B"],[1e6,"M"],[1e3,"K"]],n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if(e>=a[0])return""+Math.round(e/a[0])+a[1]}return""+e}return""}function a(e){try{return new window.URL(e).hostname}catch(n){var t=document.createElement("a");return t.href=e,t.hostname}}t.a=r,t.b=o},"4va0":function(e,t,n){function r(e,t){var n=-1,r=e.length,a=r-1;for(t=void 0===t?r:t;++n<t;){var i=o(n,a),s=e[i];e[i]=e[n],e[n]=s}return e.length=t,e}var o=n("Cc3z");e.exports=r},"6P5Y":function(e,t,n){var r=n("McbO"),o=n("qJu0"),a=n("3DTL"),i=o(function(e,t,n){return r(e,a(t)||0,n)});e.exports=i},Cc3z:function(e,t){function n(e,t){return e+r(o()*(t-e+1))}var r=Math.floor,o=Math.random;e.exports=n},Dryq:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return!!e&&(10105===e.experience_id||40002===e.experience_id||500787===e.experience_id)}function m(e){var t=!!e&&(!!e.display_data&&!!e.display_data.grid_limit);return d(e)&&t}Object.defineProperty(t,"__esModule",{value:!0});var h=n("d6ZO"),f=n.n(h),g=n("DUIN"),b=n("aQMl"),y=n("qzVV"),w=n("Aw5z"),v=n("W/Cr"),E=n("nWYF"),x=n("63eB"),C=n("Krtm"),_=n("Kqaz"),S=n("i0Ug"),T=n("sSkN"),O=n("E7T4"),I=n("mHth"),k=n("FrUj"),P=n("gEaE"),N=n("MQ2h"),L=n.n(N),j="age",R="parent_info",G=16,F=13,H=30,B=500735,M=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={age:"",ageValidatorError:"",parentEmail:"",parentEmailValidatorError:"",step:a.props.skipAgeStep?R:j},a.handleAgeChange=function(e){var t=e.value;a.setState({age:t,ageValidatorError:""})},a.handleAgeSubmit=function(){var e=[Object(k.a)({message:v.a._("Please enter a valid number.","Error message when user enters invalid age.")})],t=Object(C.a)(a.state.age,e);t?a.setState({age:"",ageValidatorError:t}):parseInt(a.state.age,10)<F?a.setState({age:"",ageValidatorError:v.a._("Age must be at least 13.","Error message when user enters age less than 13")}):a.completeAgeStep()},a.handleParentEmailSubmit=function(){var e=[Object(k.e)({message:v.a._("Hmm... that doesn't look like an email address.","Error message when user enters invalid email address")})],t=Object(C.a)(a.state.parentEmail,e);t?a.setState({age:"",parentEmailValidatorError:t}):a.props.viewer.email===a.state.parentEmail?a.setState({age:"",parentEmailValidatorError:v.a._("Not a valid email.","Invalid email error message")}):a.completeParentConsentStep()},a.handleParentEmailChange=function(e){var t=e.value;a.setState({parentEmail:t,parentEmailValidatorError:""})},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){this.contextLogView(3175)},t.prototype.contextLogView=function e(t){(0,this.props.contextLog)(13,{view:205,viewParameter:t})},t.prototype.contextLogClick=function e(t){(0,this.props.contextLog)(101,{component:17,element:1112,view:205,viewParameter:t})},t.prototype.completeAgeStep=function e(){var t=this,n=this.props,r=n.dispatch,o=n.experienceClient,a={age:this.state.age},i=function e(){t.contextLogClick(3175),parseInt(t.state.age,10)<16?(o.fetchExperienceForPlacement(30),t.setState({step:R}),t.contextLogView(3176)):(o.completeExperience(30,500735),r(T.a))};r(Object(O.b)({updateUserData:a})).then(i)},t.prototype.completeParentConsentStep=function e(){var t=this,n=this.props,r=n.dispatch,o=n.experienceClient,a={parent_email:this.state.parentEmail},i=function e(){t.contextLogClick(3176),o.fetchExperienceForPlacement(30);var n=new x.a;n.evt=new y.a("",null,{forceRefresh:1}),w.default.navigate("/",n),r(T.a)};r(Object(O.b)({updateUserData:a})).then(i)},t.prototype.renderAgeStep=function e(){var t=this,n=v.a._("To continue using Pinterest, let us know how old you are.","Subtext on age step of GDPR flow.");return f.a.createElement(P.b,{alignItems:"center",direction:"column",display:"flex"},f.a.createElement(P.b,{margin:3},f.a.createElement(P.m,{size:"sm"},v.a._("Tell us your age","Prompt asking user to enter age"))),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6},f.a.createElement(P.I,{color:"darkGray",overflow:"normal"},n)),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},f.a.createElement("div",{ref:function e(n){t._ageTextField=n}},f.a.createElement(P.K,{id:"age",onChange:this.handleAgeChange,placeholder:"Age",value:this.state.age,type:"number"})),this.state.ageValidatorError?f.a.createElement(P.j,{anchor:this._ageTextField,idealDirection:"right",message:this.state.ageValidatorError,onDismiss:function e(){},size:"xs"}):null),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},f.a.createElement(P.c,{color:"red",disabled:!this.state.age,onClick:this.handleAgeSubmit,text:v.a._("Submit","Text on submit button on GDPR age step"),type:"submit"})))},t.prototype.renderParentInfoStep=function e(){var t=this,n=v.a._("In some countries, you can only use Pinterest if you're old enough to consent to us using your information under the laws of your country, or if your parent or guardian has agreed that you can use Pinterest.","Subtext in parent consent step for underaged users."),r=v.a._("If you'd like for us to contact your parent or guardian, let us know how to reach them.","Prompt in parent consent step asking underaged users for parent information.");return f.a.createElement(P.b,{alignItems:"center",direction:"column",display:"flex"},f.a.createElement(P.b,{margin:3},f.a.createElement(P.m,{size:"sm"},v.a._("Get parental consent","Title text for parent consent information step"))),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginTop:5,maxWidth:400},f.a.createElement(P.I,{color:"darkGray",overflow:"normal"},n)),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6,maxWidth:400},f.a.createElement(P.I,{color:"darkGray",overflow:"normal"},r)),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},f.a.createElement("div",{ref:function e(n){t._parentEmailField=n}},f.a.createElement(P.K,{id:"email",onChange:this.handleParentEmailChange,placeholder:"Parent's email",value:this.state.parentEmail,type:"email"})),this.state.parentEmailValidatorError?f.a.createElement(P.j,{anchor:this._parentEmailField,idealDirection:"right",message:this.state.parentEmailValidatorError,onDismiss:function e(){},size:"xs"}):null),f.a.createElement(P.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},f.a.createElement(P.c,{color:"red",disabled:!this.state.parentEmail,onClick:this.handleParentEmailSubmit,text:v.a._("Send","Text on submit button on GDPR parent consent email step"),type:"submit"})))},t.prototype.render=function e(){return f.a.createElement(P.b,{alignItems:"center",color:"white",direction:"column",display:"flex",height:540,overflow:"hidden",shape:"rounded",width:400},f.a.createElement(P.b,{marginTop:7},Object(E.a)(50,!0)),this.state.step===j?this.renderAgeStep():this.renderParentInfoStep())},t}(h.PureComponent),D=Object(N.compose)(Object(g.connect)(),_.a,I.a,S.a)(M),W=n("LQgx"),U=n("309r"),A=n("I86I"),z=n("bUn+"),V=n("LQXo"),Z=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={pins:[]},r.renderItem=function(e){var t=e.data,n=e.itemIdx,r={imageOnly:!0,pin:Object.assign({},t,{pinner:{image_small_url:""},access:[]}),slotIndex:n};return f.a.createElement(A.b,r)},o=n,s(r,o)}return l(t,e),t.prototype.componentDidMount=function e(){var t=this,n=z.a.getUnauthPins();setTimeout(function(){return t.setState({pins:n})})},t.prototype.render=function e(){var t=this.state.pins;return t&&f.a.createElement(P.u,{columnWidth:Object(V.h)(!1),comp:this.renderItem,gutterWidth:Object(V.f)(!1),items:t,minCols:Object(V.k)(!1)})},t}(h.Component),X=n("YZkw"),K=n("Xafg"),Y=n("KDcb"),q=n("K1Hn"),J=n("fvzG");n.d(t,"AuthHomePage",function(){return $});var Q=f.a.createElement(Z,null),$=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return p(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.params.conversation_id,r=t.openConversationChathead;n&&r()},t.prototype.renderGDPRStep=function e(){return f.a.createElement(W.a,{noButton:!0},f.a.createElement(D,{skipAgeStep:this.props.showGDPRParentConsentModal,additionalChildren:null}))},t.prototype.render=function e(){var t=this.props,n=t.showGDPRModal,r=t.experience,o=t.repeatRequestBookmark,a=d(r),i=r&&500278===r.experience_id;return a&&!m(r)?f.a.createElement(q.e,{placementId:11}):f.a.createElement(P.b,null,a?f.a.createElement(q.e,{placementId:11}):f.a.createElement(U.a,{experience:r}),f.a.createElement(q.f,{placementId:11}),f.a.createElement(q.d,{placementId:11}),f.a.createElement(q.c,{placementId:11}),n&&this.renderGDPRStep(),a?Q:f.a.createElement(Y.b,{experience:r,isNux:a,isRenux:i,repeatRequestBookmark:o}),f.a.createElement(q.a,{placementId:11}),f.a.createElement(q.b,{placementId:11}),f.a.createElement(b.a,{placementId:11}))},t}(h.Component),ee=function e(t,n){var r=n.params.conversation_id;return{openConversationChathead:function e(){t(Object(J.h)(r)),t(Object(J.g)(r))}}},te=t.default=Object(N.compose)(Object(K.a)({name:"HomePage",upwtActionName:2,placementId:function e(t){return t.is_mobile_agent?40001:11},routeContextLog:function e(){return{view_type:1,view_parameter:92}},resourceDependencies:function e(t,n,r){return d(r)?[]:[{name:"UserHomefeedResource",options:Object(Y.d)({experience:r,viewerIsPartner:t.user.is_partner,staticFeed:Object.prototype.hasOwnProperty.call(n,"pwt_testing"),repeatRequestBookmark:t.hf_prefetch_bookmark||""})}]}}),Object(X.a)(11),Object(g.connect)(function(e){return{repeatRequestBookmark:e.ui.homefeed.prefetchBookmark,showGDPRModal:e.ui.gdprModal.showModal,showGDPRParentConsentModal:e.ui.gdprModal.showParentConsentModal}},ee))($)},JGru:function(e,t,n){"use strict";var r=n("BAXv"),o=n("WjSu"),a={getBrowser:function e(){var t=o.a.instance.browser_name||"";switch(!0){case t.includes("Chrome"):return r.a.BrowserType.CHROME;case t.includes("Safari"):return r.a.BrowserType.SAFARI;case t.includes("Firefox"):return r.a.BrowserType.FIREFOX;case t.includes("Opera"):return r.a.BrowserType.OPERA;case t.includes("IE"):return r.a.BrowserType.IE;default:return r.a.BrowserType.OTHER}},isSafari:function e(){return this.getBrowser()===r.a.BrowserType.SAFARI}};t.a=a},K1Hn:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return M}var p=n("d6ZO"),d=n.n(p),m=n("BAXv"),h=n("W/Cr"),f=n("tmfO"),g=n("IaRT"),b=n.n(g),y=n("WBZ1"),w=n.n(y),v=n("85jk"),E=n("gEaE"),x=10,C=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={isVisible:!0},a.onScroll=w()(function(){var e=a.getScrollPos();e>x?a.setState({isVisible:!1}):0===e&&a.setState({isVisible:!0})}),a.handleGotItClick=function(){Object(v.a)("auth_eu_cookie_banner_dismissed"),a.props.onGotItClick&&a.props.onGotItClick()},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){window.addEventListener("scroll",this.onScroll),this.onScroll()},t.prototype.componentWillUnmount=function e(){window.removeEventListener("scroll",this.onScroll)},t.prototype.getScrollPos=function e(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0},t.prototype.hide=function e(){this.state.isVisible&&this.setState({isVisible:!1})},t.prototype.show=function e(){this.state.isVisible||this.setState({isVisible:!0})},t.prototype.handleLearnMoreClick=function e(){Object(v.a)("auth_eu_cookie_banner_learnmore")},t.prototype.handlePrivacyClick=function e(){Object(v.a)("auth_eu_cookie_banner_privacy")},t.prototype.render=function e(){var t={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return d.a.createElement("div",{className:"EuCookieBar"},d.a.createElement(E.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:t,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},d.a.createElement(E.b,{deprecatedPadding:{x:2}},d.a.createElement(f.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:m.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},h.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),d.a.createElement(E.b,{display:"flex",alignItems:"center"},d.a.createElement(E.b,{deprecatedPadding:{x:1}},d.a.createElement(E.I,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},h.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),d.a.createElement(E.b,{deprecatedPadding:{x:1}},d.a.createElement(f.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:m.a.GEN.templateConst.settings.ABOUT_COOKIE_URL},h.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),d.a.createElement(E.b,{deprecatedPadding:{x:1}},d.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},h.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))},t}(p.PureComponent),_=n("wUWH"),S=function e(t){var n=t.placementId;return p.createElement(_.a,{experienceIds:[14e3],placementId:n},function(e){var t=e.complete;return p.createElement(C,{onGotItClick:t})})},T=n("S1T6"),O=n("YZ7u"),I=n("LWri"),k=n("sOF4"),P=n("Rmuw"),N=function e(t){var n=t.placementId,r=i(t,["placementId"]);return p.createElement(_.a,{placementId:n,type:9},function(e){var t=e.complete,n=e.dismiss,o=e.display_data;return p.createElement(I.a,Object.assign({},Object(P.a)(k.a,!0)(o),{handleComplete:t,handleDismiss:n},r))})},L=n("haoC"),j=n("SX1z"),R=n.n(j),G=n("ZtCB"),F=n.n(G),H=n("suNN"),B={FIRST:"first",END:"end"},M=function(e){function t(n){s(this,t);var r=l(this,e.call(this,n));return r.onCheck=function(e){var t=e.checked;return r.setState({checked:t})},r.onTextChange=function(e){var t=e.value;return r.setState({newEmail:t})},r.closeModal=function(){var e=r.props.handleComplete;setTimeout(e,5e3)},r.updateEmailAddress=function(){var e=r.props.currentEmail,t=r.state,n=t.checked,o=t.newEmail;e&&o&&e.trim()!==o?F.a.create("UserSettingsResource",{email:o,email_bounced:!1}).callUpdate({showError:!1}).then(function(){return r.updateNotifSetting(n)},function(e){return r.setState({errorMessage:e.message})}):r.updateNotifSetting(n)},r.updateNotifSetting=function(e){r.setState({currentStep:B.END});var t=void 0;t=!0===e?{section:"settings_email",option:"ALL",value:!0}:{section:"settings_email",option:"ONLY_REQUIRED",value:!0},F.a.create("EmailSettingsResource",t).callUpdate(),r.closeModal()},r.state={currentStep:B.FIRST,newEmail:n.currentEmail,checked:!0},r}return c(t,e),t.prototype.getModalText=function e(t){return t===B.FIRST?h.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):h.a._("Thanks! Your email preferences have been saved.","after updating email address")},t.prototype.renderStep=function e(t){var n=this.state,r=n.checked,o=n.errorMessage,a=n.newEmail;return t===B.FIRST?d.a.createElement(E.b,{maxWidth:310},d.a.createElement(E.b,{alignItems:"center",display:"flex",marginBottom:6},d.a.createElement(E.e,{checked:r,id:"notif",onChange:this.onCheck,size:"sm"}),d.a.createElement(E.q,{htmlFor:"notif"},d.a.createElement(E.b,{paddingX:2},d.a.createElement(E.I,{size:"sm"},h.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),d.a.createElement(E.K,{id:"email",type:"email",onChange:this.onTextChange,value:a,idealErrorDirection:"up",errorMessage:o}),d.a.createElement(E.b,{paddingY:1},d.a.createElement(E.c,{color:"red",text:h.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):d.a.createElement(E.I,{overflow:"normal",size:"lg"},Object(H.b)(h.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:d.a.createElement(f.b,{key:"settingsLink",to:"/settings/"},h.a._("Settings","link to edit account settings"))}))},t.prototype.render=function e(){var t=this.props.handleDismiss,n=this.state.currentStep;return d.a.createElement(E.b,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},d.a.createElement(E.b,{display:"flex",alignItems:"center"},d.a.createElement(E.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},d.a.createElement(E.b,{width:292,height:479,marginBottom:-6},d.a.createElement(E.p,{alt:h.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:R.a}))),d.a.createElement(E.b,{position:"relative"},d.a.createElement(E.b,{display:"flex",alignItems:"center",width:330,height:540},d.a.createElement(E.b,{paddingX:3},d.a.createElement(E.b,{paddingY:6},d.a.createElement(E.I,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(n))),this.renderStep(n))),n===B.FIRST&&d.a.createElement(E.b,{padding:6,position:"absolute",bottom:!0,right:!0},d.a.createElement(E.N,{onTouch:t,fullWidth:!1},d.a.createElement(E.I,{bold:!0},h.a._("Skip for now","Skip prompt to change email address")))))))},t}(p.Component),D=n("LQgx"),W=function e(t){var n=t.placementId;return p.createElement(_.a,{experienceIds:[500331],placementId:n},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=u(t);return p.createElement(D.a,{noButton:!0,onHide:r},p.createElement(a,Object.assign({},Object(P.a)(k.a)(o),{handleComplete:n,handleDismiss:r})))})},U=n("ZWUK"),A=n("sHM2"),z=[500329,500410,500688],V=d.a.createElement("div",{className:"experienceSystemPushOverlay"}),Z=function e(t){var n=t.placementId;return d.a.createElement(_.a,{placementId:n,experienceIds:z},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data;return A.a.instance().subscribe(n,r),d.a.createElement(E.N,{onTouch:r,fullWidth:!1},V,";")})};n.d(t,"a",function(){return S}),n.d(t,"b",function(){return T.a}),n.d(t,"c",function(){return O.a}),n.d(t,"e",function(){return N}),n.d(t,!1,function(){}),n.d(t,"d",function(){return W}),n.d(t,!1,function(){return U.a}),n.d(t,"f",function(){return Z})},Krtm:function(e,t,n){"use strict";var r=function e(t,n){var r=void 0;return n.some(function(e){var n=e(t);return n.errors.length>0&&(r=n.errors[0],!0)}),r};t.a=r},LWri:function(e,t,n){"use strict";function r(e){var t=e.incrementNuxStep;return j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:{marginTop:12,textAlign:"center"}}},j.a.createElement("button",{className:"NuxExtensionUpsell__optionalSkip underline",onClick:t,style:{color:"#999"}},H.a._("Skip")))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){return Object.assign({},ye,{height:e+"px",borderRadius:t})}function h(e,t,n){return Object.assign({},we,{backgroundColor:e,width:t+"%",borderRadius:n})}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){return function t(n,r){return j.a.createElement(e,Object.assign({},n,{steps:n.steps||at}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e){return function(t){function n(){var e,r,o;S(this,n);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=r=T(this,t.call.apply(t,[this].concat(i))),r.state={skipExtStep:!1,skipAgeStep:!1},o=e,T(r,o)}return O(n,t),n.prototype.componentDidMount=function e(){var t=this,n=this.props.steps;n.some(function(e){return"NuxAgeStep"===e.moduleName})&&"true"===Re.b.localStorage.getItem("signupAgeStepCompleted")&&this.setState({skipAgeStep:!0}),D.a.extensionReady(Q.p).then(function(e){n.some(function(e){return"NuxExtensionUpsell"===e.moduleName})&&e&&t.setState({skipExtStep:!0})})},n.prototype.render=function t(){var n=this.props.steps,r=this.state,o=r.skipExtStep,a=r.skipAgeStep;return o&&(n=n.filter(function(e){return"NuxExtensionUpsell"!==e.moduleName})),a&&(n=n.filter(function(e){return"NuxAgeStep"!==e.moduleName})),j.a.createElement(e,Object.assign({},this.props,{steps:n}))},n}(L.PureComponent)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=n("d6ZO"),j=n.n(L),R=n("5tOk"),G=n("32ZW"),F=n("Aw5z"),H=n("W/Cr"),B=n("63eB"),M=n("JGru"),D=n("bbMF"),W=n("GGB8"),U=n.n(W),A=n("IaRT"),z=n.n(A),V=n("gEaE"),Z=r,X=n("85jk"),K=n("Kqaz"),Y=n("MQ2h"),q=n.n(Y),J=n("dCTv"),Q=n("aKzT"),$=j.a.createElement("div",{className:"extensionUpsellArrowImage"}),ee=j.a.createElement("div",{className:"extensionUpsellEmptySpace"}),te=j.a.createElement("div",{className:"extensionUpsellPinitButtonImage"}),ne=j.a.createElement(V.i,null),re=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.onInstallButtonClicked=function(){var e=r.props,t=e.contextLog,n=e.experiments,o=e.incrementNuxStep;Object(X.a)("browser_extension_install_clicked");var a=M.a.isSafari()&&"safari_add_browser_ext_step"===n.v2GetGroup("parent_browser_type_detection_fix")&&"enabled"===n.v2GetGroup("safari_add_browser_ext_step");D.a.handleExtensionInstall(o,null,a,a),t(101,{component:17,element:280,view:52,viewParameter:2512})},i=n,a(r,i)}return i(t,e),t.prototype.componentDidMount=function e(){this.props.contextLog(13,{view:24,viewParameter:260})},t.prototype.renderHeader=function e(){var t=this.props,n=t.headingText,r=t.personalizationCopy,o=r.headerText,a=r.subHeaderText,i=t.subheadingText;return j.a.createElement(V.b,{direction:"column",display:"flex",marginTop:8,marginLeft:8,marginRight:8},j.a.createElement(V.b,{marginBottom:6},j.a.createElement("h2",{style:Q.k},o||n||H.a._("Get the Pinterest browser button")),j.a.createElement("h3",{style:Q.l},a||i||H.a._("Save creative ideas from around the web."))))},t.prototype.render=function e(){var t=this.props.incrementNuxStep,n=this.context.country,r=U()("Module NuxModalInstallExtension NuxModalStepBase"),o=H.a._("Get it now","Get the Pinterest browser extension");return j.a.createElement("div",{className:r},j.a.createElement(V.b,{direction:"column",display:"flex"},this.renderHeader(),j.a.createElement("div",{className:U()("extensionUpsellWrapper")},j.a.createElement("div",null,$,ee,j.a.createElement("div",{className:U()("extensionUpsellWebsiteImage",n)}),j.a.createElement("div",{className:U()("extensionUpsellPinImage",n)}),j.a.createElement("div",{className:U()("extensionUpsellWebsiteImage2",n)}),te)),j.a.createElement(V.b,{position:"absolute",bottom:!0,color:"white",shape:"rounded",width:"100%"},ne,j.a.createElement(V.b,{alignItems:"center",display:"flex",flex:"grow",direction:"column",height:"100%",justifyContent:"center",margin:4},j.a.createElement(V.b,{position:"static",width:"100%"},j.a.createElement(V.c,{accessibilityLabel:H.a._("Get the Pinterest browser extension","Accesibility label for the Pinterest browser extension"),color:"red",onClick:this.onInstallButtonClicked,text:o,size:"lg"})),j.a.createElement(V.b,{position:"static",marginTop:3,width:"100%"},j.a.createElement(Z,{incrementNuxStep:t}))))))},t}(L.Component);re.contextTypes={browser_name:z.a.string,country:z.a.string,locale:z.a.string};var oe=Object(Y.compose)(K.a,J.b)(re),ae=n("DUIN"),ie=n("Hxt/"),se=n("E7T4"),le=function(e){function t(n){s(this,t);var r=l(this,e.call(this,n));return r.onToggleCustomGender=function(){r.setState({showCustomGenderTooltip:!r.state.showCustomGenderTooltip})},r.setCustomGender=function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?r.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):r.setState({showCustomGenderDoneButton:!(r.props.experiments.v2GetGroup("web_nux_mandatory_custom_gender")||"").startsWith("enabled")})},r.state={showCustomGenderDoneButton:!(n.experiments.v2ActivateExperiment("web_nux_mandatory_custom_gender")||"").startsWith("enabled"),showCustomGenderTooltip:!1,gender:"",customGender:""},r}return c(t,e),t.prototype.onSelectGender=function e(t){t===Q.b||this.state.showCustomGenderTooltip?this.setState({gender:"",customGender:""},this.onToggleCustomGender):this.setState({gender:t},this.updateGenderCompleteStep)},t.prototype.updateGenderCompleteStep=function e(){var t=this,n=Object(ie.a)(this.props.name);this.state.showCustomGenderTooltip?n.custom_gender=this.state.customGender:n.gender=this.state.gender;var r=function e(){t.props.contextLog(101,{component:17,element:241,view:24,viewParameter:3120}),t.props.incrementNuxStep()};this.props.dispatch(Object(se.b)({updateUserData:n})).then(r)},t.prototype.submitHandler=function e(t){t.preventDefault()},t.prototype.render=function e(){var t=this,n=this.state.showCustomGenderTooltip?j.a.createElement("div",{className:U()("NuxGenderStep__genderOptionText")},j.a.createElement("input",{name:"customGender",id:"customGenderTextField",onChange:this.setCustomGender,type:"text",placeholder:H.a._("Enter custom gender","placeholder text for custom gender text field")}),this.state.showCustomGenderDoneButton?j.a.createElement(V.c,{color:"red",inline:!0,onClick:function e(){return t.updateGenderCompleteStep()},text:H.a._("Done","button text for entering a custom gender type")}):null):j.a.createElement("span",{className:U()("NuxGenderStep__genderOptionTextNoHover")},H.a._("Custom","Custom gender label"));return j.a.createElement("div",{className:U()("NuxGenderStep__genderSelector")},j.a.createElement("form",{onSubmit:this.submitHandler},j.a.createElement("legend",{className:"visuallyHidden"},H.a._("Select your gender")),j.a.createElement("label",{className:this.state.showCustomGenderTooltip?U()("NuxGenderStep__genderOptionNoHover"):U()("NuxGenderStep__genderOption"),htmlFor:"male"},j.a.createElement("div",null,j.a.createElement("div",{className:U()("NuxGenderStep__radioButtonWrapper")},j.a.createElement(V.z,{checked:!this.state.showCustomGenderTooltip&&this.state.gender.toLowerCase()===Q.n,id:"male",name:"genderOptions",onChange:function e(){return t.onSelectGender(Q.n)},size:"md",value:Q.n})),j.a.createElement("span",{className:U()("NuxGenderStep__genderOptionTextNoHover")},H.a._("Male")))),j.a.createElement("label",{className:this.state.showCustomGenderTooltip?U()("NuxGenderStep__genderOptionNoHover"):U()("NuxGenderStep__genderOption"),htmlFor:"female"},j.a.createElement("div",null,j.a.createElement("div",{className:U()("NuxGenderStep__radioButtonWrapper")},j.a.createElement(V.z,{checked:!this.state.showCustomGenderTooltip&&this.state.gender.toLowerCase()===Q.i,id:"female",name:"genderOptions",onChange:function e(){return t.onSelectGender(Q.i)},value:Q.i})),j.a.createElement("span",{className:U()("NuxGenderStep__genderOptionTextNoHover")},H.a._("Female")))),j.a.createElement("label",{className:this.state.showCustomGenderTooltip?U()("NuxGenderStep__genderOptionSelected"):U()("NuxGenderStep__genderOptionLast"),htmlFor:"custom"},j.a.createElement("div",null,j.a.createElement("div",{className:U()("NuxGenderStep__radioButtonWrapper")},j.a.createElement(V.z,{checked:this.state.showCustomGenderTooltip,id:"custom",name:"genderOptions",onChange:function e(){return t.onSelectGender(Q.b)},value:Q.b})),n))))},t}(L.Component);le.contextTypes={browser_name:z.a.string,country:z.a.string,locale:z.a.string};var ce=Object(Y.compose)(Object(ae.connect)(),K.a,J.b)(le),ue=n("ok+N"),pe=function(e){function t(){var n,r,o;u(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.state={name:r.props.firstName,showNameInput:!1,showNoNameError:!1},r.onNameChange=function(e){var t=e.value;r.setState({name:t||"",showNoNameError:!t||0===t.trim().length})},r.toggleNameInput=function(){r.setState({showNameInput:r.state.showNoNameError||!r.state.showNameInput})},o=n,p(r,o)}return d(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:24,viewParameter:3120})},t.prototype.renderGreetingWithName=function e(){var t=this,n=this.props.personalizationCopy.titleText,r=n||H.a._("Hi, ","Greeting followed by textfield for user to input their name."),o=R.c(H.a._("{{ greeting }}, {{ name }}","Greeting with inferred name."),{greeting:n||"Hi",name:this.state.name});return j.a.createElement("div",{className:U()("NuxGenderStep__nameHeaderContent")},j.a.createElement(V.b,{marginRight:1,marginTop:2},j.a.createElement("h2",{style:Q.m},this.state.showNameInput?r:o)),this.state.showNameInput&&j.a.createElement("div",{className:U()("NuxGenderStep__nameInputWrapper"),ref:function e(n){t.greetingWithName=n}},j.a.createElement(V.K,{id:"name",onChange:this.onNameChange,placeholder:H.a._("name"),type:"text",value:this.state.name})),j.a.createElement(V.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:this.state.showNameInput?"check":"edit",inline:!0,onClick:this.toggleNameInput,size:"sm"}),this.state.showNoNameError&&j.a.createElement(V.j,{anchor:this.greetingWithName,idealDirection:"right",message:H.a._("And your name is...?","Error flyout when user doesn't input name"),onDismiss:function e(){},size:"sm"}))},t.prototype.render=function e(){var t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.personalizationCopy,a=o.headerText,i=o.subHeaderText,s=r?null:this.renderGreetingWithName();return j.a.createElement("div",{className:U()("NuxGenderStep")},s,j.a.createElement("div",{className:U()("NuxGenderStep__headerContent")},j.a.createElement("h2",{style:Q.k},r?H.a._("It’s time to refresh your feed!"):a||H.a._("How would you describe yourself?")),j.a.createElement("h3",{style:Q.l},r?H.a._("Start by picking how you describe yourself"):i||H.a._("This helps us show you more relevant content"))),j.a.createElement("div",null,j.a.createElement(ce,{incrementNuxStep:n,name:this.state.name||this.props.firstName})))},t}(L.Component),de=Object(Y.compose)(Object(ae.connect)(function(e){return{isAuth:e.viewer.isAuth,firstName:e.viewer.firstName?e.viewer.firstName:void 0}}),K.a,ue.b)(pe),me=n("jPJg"),he=n("kufG"),fe=n("ULUT"),ge={__style:{verticalAlign:"top"}},be=function e(t){var n=t.selectedPins,r=t.truncateLength,o=n.slice(0,r),a=n.length>r,i=o.length-1,s=o.map(function(e,t){return j.a.createElement(V.b,{dangerouslySetInlineStyle:ge,display:"inlineBlock",key:e.id,margin:1,width:180},t!==i?j.a.createElement(he.a,{data:e,isOverflow:a&&t===i,notSelectable:!0}):j.a.createElement("div",{className:U()("NuxLoader__overflowMask"),style:{height:"180px",lineHeight:"180px"}},H.a._("+ more","there are other interests not shown")))});return j.a.createElement("div",{className:"listsWrapper"},j.a.createElement("div",{className:"followingInterestsListWrapper"},j.a.createElement("ul",{className:"interestList"},s)))},ye={backgroundColor:"#efefef"},we={transition:"width .4s ease-out"},ve=function e(t){var n=t.color,r=t.height,o=t.progress,a=t.outerBorderRadius,i=t.innerBorderRadius;return j.a.createElement(V.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:m(r,a)}},j.a.createElement(V.b,{height:"inherit",dangerouslySetInlineStyle:{__style:h(n,o,i)}}))};ve.defaultProps={color:"#555",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var Ee=ve,xe=n("ZtCB"),Ce=n.n(xe),_e=n("i0Ug"),Se=n("JKYN"),Te={__style:{marginLeft:"auto",marginRight:"auto"}},Oe=1500,Ie=6,ke=function(e){function t(){var n,r,o;f(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=g(this,e.call.apply(e,[this].concat(i))),r.state={numberOfHomefeedReadyChecks:0},r.blendedInterests=[],r.checkHomefeedReady=function(){var e=r.props,t=e.checkDuration,n=e.maxNumberOfChecks,o=t+n*t,a=t+r.state.numberOfHomefeedReadyChecks*t;r.state.numberOfHomefeedReadyChecks<=n||a<=o?Ce.a.create("OrientationContextStatusResource",{}).callGet({showError:!1},{retries:1}).then(function(e){e.resource_response.data?r.setState({numberOfHomefeedReadyChecks:n}):r.incrementHomefeedChecks()},function(e){Object(X.d)("nuxloader.api_error")}):r.setState({numberOfHomefeedReadyChecks:n})},r.incrementHomefeedChecks=function(){var e=r.props,t=e.checkDuration,n=e.maxNumberOfChecks;r.state.numberOfHomefeedReadyChecks<=n?r.setState(function(e){return{numberOfHomefeedReadyChecks:e.numberOfHomefeedReadyChecks+1}},function(){return window.setTimeout(r.checkHomefeedReady,t)}):r.setState({numberOfHomefeedReadyChecks:n})},o=n,g(r,o)}return b(t,e),t.prototype.componentDidMount=function e(){var t=this,n=this.props,r=n.checkDuration;(0,n.contextLog)(13,{view:24,viewParameter:261}),window.setTimeout(function(){t.setState({numberOfHomefeedReadyChecks:1},t.checkHomefeedReady)},r)},t.prototype.componentWillReceiveProps=function e(t){!this.props.interestsFromResource&&t.interestsFromResource&&(this.blendedInterests=t.interestsFromResource.map(function(e){return Object.assign(e,{image:e.images["400x"].url,label:e.name})}),this.blendedInterests=this.props.selectedInterests.concat(this.blendedInterests))},t.prototype.componentWillUpdate=function e(t,n){var r=t.showProgressBar,o=t.maxNumberOfChecks,a=t.makeProgressOnLoader,i=n.numberOfHomefeedReadyChecks;r&&a(Math.min(Math.ceil(i/o*100),100))},t.prototype.componentDidUpdate=function e(t,n){this.state.numberOfHomefeedReadyChecks>=this.props.maxNumberOfChecks&&!this._incrementNuxStepTimer&&(this._incrementNuxStepTimer=window.setTimeout(this.props.incrementNuxStep,1500))},t.prototype.componentWillUnmount=function e(){clearTimeout(this._incrementNuxStepTimer)},t.prototype.renderHeader=function e(t){var n=this.props,r=n.mandateText,o=n.subMandateText,a=H.a._("Finding you ideas from...");0===t.length&&(a=H.a._("Just a second while we build your feed..."));var i={desktop:{mandateText:H.a._("All set!"),subMandateText:a}}.desktop;return j.a.createElement(V.b,{dangerouslySetInlineStyle:Te,marginBottom:6,marginTop:8,width:736},j.a.createElement("h2",{style:Q.k},r||i.mandateText),j.a.createElement("h3",{style:Q.l},o||i.subMandateText),j.a.createElement(V.b,{height:40,marginRight:10,marginTop:10,position:"absolute",right:!0,top:!0,width:40},j.a.createElement(V.E,{accessibilityLabel:H.a._("Loading your homefeed..."),show:!0})))},t.prototype.renderTextOnlyInterests=function e(t){var n=6,r=t.slice(0,6),o=t.length>6,a=r.length-1,i=r.map(function(e,t){return j.a.createElement(V.b,{display:"inlineBlock",key:e.id,margin:2,width:235},j.a.createElement(me.a,{interest:e,key:e.id,isOverflow:o&&t===a,notSelectable:!0,showTextOnlyTopics:!0}))});return j.a.createElement(V.b,{left:!0,marginLeft:8,position:"absolute",dangerouslySetInlineStyle:{__style:{top:"344px"}}},j.a.createElement(V.b,{marginTop:6,justifyContent:"center"},j.a.createElement(V.b,{overflow:"hidden"},i)))},t.prototype.renderInterests=function e(t){var n=this.props,r=n.experiments,o=n.truncateLength;if("enabled"===r.v2GetGroup("text_only_topic_picker"))return this.renderTextOnlyInterests(t);var a=t.slice(0,o),i=t.length>o,s=a.length-1,l=a.map(function(e,t){return j.a.createElement(V.b,{display:"inlineBlock",key:e.id,margin:1,width:136},j.a.createElement(me.a,{interest:e,key:e.id,isOverflow:i&&t===s,notSelectable:!0}))});return j.a.createElement(V.b,{left:!0,marginLeft:8,position:"absolute",dangerouslySetInlineStyle:{__style:{top:"344px"}}},j.a.createElement(V.b,{marginTop:6,justifyContent:"center"},j.a.createElement(V.b,{overflow:"hidden"},l)))},t.prototype.render=function e(){if(!this.props.selectedInterests&&this.blendedInterests.length>0)return this.renderInterests(this.blendedInterests),j.a.createElement(V.b,null,j.a.createElement(V.E,{accessibilityLabel:H.a._("New User Experience"),show:!0}));var t=this.props,n=t.maxNumberOfChecks,r=t.interestsFromResource,o=t.isSingleUseCase,a=t.selectedInterests,i=t.selectedPins,s=t.truncateLength,l=t.showProgressBar,c=this.state.numberOfHomefeedReadyChecks,u=Math.min(Math.ceil(c/n*100),100),p=Array.isArray(r)&&r.length>0&&!(Array.isArray(a)&&a.length>0)?r:a;return j.a.createElement("div",{className:U()("nuxLoader")},this.renderHeader(p),o?j.a.createElement(be,{selectedPins:i,truncateLength:s-2}):this.renderInterests(p),l?null:j.a.createElement(V.b,{position:"absolute",bottom:!0,width:"100%"},j.a.createElement(Ee,{height:8,color:"#bd081c",progress:u})))},t}(L.Component);ke.defaultProps={checkDuration:1e3,maxNumberOfChecks:3,truncateLength:5},ke.contextTypes={country:z.a.string,locale:z.a.string,userAgent:z.a.shape({browserName:z.a.string})};var Pe=Object(Y.compose)(K.a,_e.a,Object(Se.b)({name:"InterestFollowingResource",key:"interestsFromResource",options:function e(t){return{username:t.viewer.username,page_size:t.truncateLength}}},{allowStale:!1}))(ke),Ne=n("behT"),Le=n("qzVV"),je=n("WSm4"),Re=n("ieR2"),Ge=function(e){function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=w(this,e.call.apply(e,[this].concat(i))),r.state={locale:(r.context||{}).locale||Q.e,country:(r.context||{}).country||Q.c,swappingLanguage:!1},r.onNextButtonClick=function(){var e=r.props,t=e.dispatch,n=e.contextLog,o=e.incrementNuxStep;t(Object(se.b)({updateUserData:r.state})).then(function(){n(101,{component:17,element:10374,view:24,viewParameter:3139}),o()})},r.updateLocale=function(e){var t=e.value;return r.setState({locale:t})},r.updateCountry=function(e){var t=e.value,n={country:t};(r.props.experiments.v2GetGroup("web_nux_country_before_locale")||"").startsWith("enabled")&&(n.locale=Q.a[t]||(r.context||{}).locale||Q.e),r.setState(n)},o=n,w(r,o)}return v(t,e),t.prototype.componentDidMount=function e(){Re.b.localStorage.getItem("signupUserLocale")||Re.b.localStorage.getItem("signupUserCountry")||this.props.contextLog(13,{view:24,viewParameter:3139})},t.prototype.componentDidUpdate=function e(t,n){var r=this,o=this.props.dispatch,a=n.locale,i=n.country,s=this.state,l=s.locale,c=s.country,u=i!==c,p=a!==l;(u||p)&&o(Object(se.b)({updateUserData:this.state})).then(function(){if(u&&Re.b.localStorage.setItem("signupUserCountry",c),p){r.setState({swappingLanguage:!0}),Re.b.localStorage.setItem("signupUserLocale",l);var e=new B.a;e.evt=new Le.a("",null,{forceRefresh:1}),F.default.navigate("/",e)}})},t.prototype.renderLocaleSelector=function e(){return j.a.createElement(V.b,{marginTop:8},j.a.createElement(V.q,{htmlFor:"newUserLanguage"},j.a.createElement(V.b,{marginBottom:1,marginLeft:1},j.a.createElement(V.I,{size:"md"},H.a._("Language","language to set in user settings")))),j.a.createElement(V.b,{paddingY:1},j.a.createElement(je.a,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:this.state.locale})))},t.prototype.renderCountrySelector=function e(){return j.a.createElement(V.b,{marginTop:7},j.a.createElement(V.q,{htmlFor:"newUserCountry"},j.a.createElement(V.b,{marginBottom:1,marginLeft:1},j.a.createElement(V.I,{size:"md"},H.a._("Country","country to set in user settings")))),j.a.createElement(V.b,{paddingY:1},j.a.createElement(Ne.a,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:this.state.country})))},t.prototype.render=function e(){var t=this.props,n=t.experiments,r=t.personalizationCopy,o=r.titleText,a=r.headerText,i=r.subHeaderText,s=this.state.swappingLanguage;return(n.v2ActivateExperiment("web_nux_country_before_locale")||"").startsWith("enabled")?j.a.createElement(V.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between",padding:8,marginLeft:-1,marginRight:-1},j.a.createElement(V.b,null,j.a.createElement(V.b,null,o&&j.a.createElement(V.b,{marginBottom:5,dangerouslySetInlineStyle:{__style:Q.m}},o),j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:Q.k}},a||H.a._("Make sure your language and country are correct")),j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:Q.l}},i||H.a._("We want to make sure we find the best ideas for you"))),this.renderCountrySelector(),this.renderLocaleSelector()),j.a.createElement(V.b,{marginBottom:-3},j.a.createElement(V.c,{size:"lg",color:"red",text:H.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:s}))):j.a.createElement(V.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between",padding:8,marginLeft:-1,marginRight:-1},j.a.createElement(V.b,null,j.a.createElement(V.b,null,o&&j.a.createElement(V.b,{marginBottom:5,dangerouslySetInlineStyle:{__style:Q.m}},o),j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:Q.k}},a||H.a._("Make sure your language and country are correct")),j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:Q.l}},i||H.a._("We want to make sure we find the best ideas for you"))),this.renderLocaleSelector(),this.renderCountrySelector()),j.a.createElement(V.b,{marginBottom:-3},j.a.createElement(V.c,{size:"lg",color:"red",text:H.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:s})))},t}(L.PureComponent);Ge.contextTypes={country:z.a.string,locale:z.a.string};var Fe=Object(Y.compose)(Object(ae.connect)(),K.a)(Ge),He=n("LQgx"),Be=function e(t){var n=t.nuxStep,r=t.showCounter,o=t.steps;return r&&o.length>1?j.a.createElement(V.b,null,j.a.createElement(V.I,{size:"md"},Object(R.h)(H.a._("Step {{current}} of {{total}}"),{current:""+(n+1),total:""+o.length}))):null},Me=function e(t){return j.a.createElement(He.a,{className:U()("NuxContainer"),style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},j.a.createElement("div",{className:U()("NuxContainer__NuxStepContainer")},t.children,t.showProgressBar?j.a.createElement(V.b,{position:"absolute",top:!0,width:"100%"},j.a.createElement(Ee,{progress:t.nuxProgress,outerBorderRadius:"6px 6px 0 0",innerBorderRadius:"0",color:"#bd081c"})):null,j.a.createElement(V.b,{position:"absolute",marginRight:8,marginTop:8,right:!0,top:!0},j.a.createElement(Be,t),t.displayHide&&t.onHide&&j.a.createElement(V.o,{accessibilityLabel:H.a._("cancel"),icon:"cancel",onClick:t.onHide,size:"sm"}))))},De=n("pjQJ"),We=n("tQ0j"),Ue=n.n(We),Ae=n("yAhl"),ze=n.n(Ae),Ve=n("bUn+"),Ze=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M20.62,8.63 C20.62,12.04 18.63,14.99 15.74,16.38 L15.74, 19.50 L8.24,19.50 L8.24,16.38 C5.36,14.99 3.37,12.04 3.37, 8.63 C3.37,3.86 7.23,0.00 11.99,0.00 C16.76,0.00 20.62, 3.86 20.62,8.63 Z M8.24,21.75 L8.24,21.00 L15.74,21.00 L15.74, 21.75 C15.74,22.99 14.74,24.00 13.49,24.00 L10.49, 24.00 C9.25,24.00 8.24,22.99 8.24,21.75 Z"})),Xe=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M15.12,11.39 L10.48,16.00 L8.89,14.41 C8.40,13.92 7.61, 13.92 7.12,14.40 C6.63,14.89 6.63,15.67 7.11,16.16 L10.47, 19.53 L16.88,13.15 C17.37,12.66 17.37,11.87 16.88, 11.39 C16.40,10.90 15.60,10.90 15.12,11.39 M20.00, 21.50 L4.00,21.50 C3.73,21.50 3.50,21.27 3.50,21.00 L3.50, 9.00 L20.50,9.00 L20.50,21.00 C20.50,21.27 20.27,21.50 20.00, 21.50 M20.00,4.00 L17.25,4.00 L17.25,2.25 C17.25,1.56 16.69, 1.00 16.00,1.00 C15.31,1.00 14.75,1.56 14.75,2.25 L14.75,4.00 L9.25, 4.00 L9.25,2.25 C9.25,1.56 8.69,1.00 8.00,1.00 C7.31,1.00 6.75, 1.56 6.75,2.25 L6.75,4.00 L4.00,4.00 C2.35,4.00 1.00,5.35 1.00,7.00 L1.00, 21.00 C1.00,22.65 2.35,24.00 4.00,24.00 L20.00,24.00 C21.65,24.00 23.00, 22.65 23.00,21.00 L23.00,7.00 C23.00,5.35 21.65,4.00 20.00,4.00"})),Ke=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M22.75,20.50 C23.44,20.50 24.00,21.06 24.00,21.75 C24.00,22.44 23.44, 23.00 22.75,23.00 L1.25,23.00 C0.56,23.00 0.00,22.44 0.00, 21.75 C0.00,21.06 0.56,20.50 1.25,20.50 L22.75,20.50 Z M13.50,2.50 C13.50, 3.33 12.83,4.00 12.00,4.00 C11.17,4.00 10.50,3.33 10.50,2.50 C10.50, 1.67 11.17,1.00 12.00,1.00 C12.83,1.00 13.50,1.67 13.50,2.50 Z M21.00, 13.00 L21.00,18.50 L3.00,18.50 L3.00,13.00 C3.00,8.03 7.03,4.00 12.00, 4.00 C16.97,4.00 21.00,8.03 21.00,13.00 Z"})),Ye=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M12.00,20.00 C6.87,20.00 2.40,17.18 0.00,13.00 L24.00, 13.00 C21.60,17.18 17.13,20.00 12.00,20.00 Z M14.00,11.00 L10.00, 11.00 L0.00,11.00 C0.00,7.13 3.13,4.00 7.00,4.00 C8.96,4.00 10.73, 4.81 12.00,6.11 C13.27,4.81 15.04,4.00 17.00,4.00 C20.87,4.00 24.00, 7.13 24.00,11.00 L14.00,11.00 Z"})),qe=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M6.04,20.32 C5.18,20.75 4.12,20.40 3.69,19.53 C3.26,18.67 3.61,17.62 4.48, 17.18 C5.34,16.75 6.40,17.11 6.83,17.97 C7.26,18.83 6.91,19.89 6.04,20.32 M6.83, 6.03 C6.40,6.89 5.34,7.25 4.48,6.82 C3.61,6.38 3.26,5.33 3.69,4.47 C4.12, 3.61 5.18,3.25 6.04,3.68 C6.91,4.11 7.26,5.17 6.83,6.03 M22.31,15.69 L14.89, 12.00 L22.31,8.31 C22.93,8.00 23.18,7.25 22.87,6.63 C22.56,6.01 21.81, 5.76 21.19,6.07 L12.08,10.60 L7.94,8.54 C8.40,8.17 8.79,7.71 9.07,7.15 C10.12, 5.05 9.26,2.49 7.16,1.45 C5.06,0.40 2.50,1.26 1.45,3.35 C0.40,5.45 1.26, 8.01 3.36,9.05 L9.28,12.00 L3.36,14.95 C1.26,15.99 0.40,18.55 1.45, 20.65 C2.50,22.74 5.06,23.60 7.16,22.55 C9.26,21.51 10.12,18.95 9.07,16.85 C8.79, 16.29 8.40,15.83 7.94,15.46 L12.08,13.40 L21.19,17.93 C21.81,18.24 22.56, 17.99 22.87,17.37 C23.18,16.75 22.93,16.00 22.31,15.69"})),Je=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M20.17,2.17 C19.42,1.42 18.40,1.00 17.34,1.00 L15.00,1.00 C15.00, 2.66 13.66,4.00 12.00,4.00 C10.34,4.00 9.00,2.66 9.00,1.00 L6.66, 1.00 C5.59,1.00 4.58,1.42 3.83,2.17 L0.00,6.00 L3.00,9.00 L5.00,7.00 L5.00, 23.00 L19.00,23.00 L19.00,7.00 L21.00,9.00 L24.00,6.00 L20.17,2.17 Z"})),Qe=j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M9.50,5.00 C9.50,3.62 10.62,2.50 12.00,2.50 C13.38,2.50 14.50,3.62 14.50, 5.00 L14.50,7.00 L9.50,7.00 L9.50,5.00 Z M17.00,7.00 L17.00,5.00 C17.00, 2.24 14.76,0.00 12.00,0.00 C9.24,0.00 7.00,2.24 7.00,5.00 L7.00,7.00 L2.00, 7.00 L2.00,22.00 C2.00,23.10 2.90,24.00 4.00,24.00 L20.00,24.00 C21.10,24.00 22.00, 23.10 22.00,22.00 L22.00,7.00 L17.00,7.00 Z"})),$e={color:"#555",fontSize:"24px",fontWeight:"bold",textAlign:"center"},et=["blue","green","purple"],tt={9:{images:[{image:j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M7.00,0.00 C9.20,0.00 11.00,1.80 11.00,4.00 L11.00,7.00 C11.00,8.76 9.84, 10.25 8.25,10.78 L8.25,22.75 C8.25,23.44 7.69,24.00 7.00,24.00 C6.31,24.00 5.75, 23.44 5.75,22.75 L5.75,10.78 C4.16,10.25 3.00,8.76 3.00,7.00 L3.00,4.00 C3.00, 1.80 4.80,0.00 7.00,0.00 Z M21.00,6.00 L21.00,14.00 L17.50,14.00 L17.50, 22.75 C17.50,23.44 16.94,24.00 16.25,24.00 C15.56,24.00 15.00,23.44 15.00, 22.75 L15.00,14.00 L15.00,12.00 L15.00,6.00 L15.00,5.00 L15.00,0.00 C18.31, 0.00 21.00,2.69 21.00,6.00 Z"})),loggingElement:10451,text:"Make a recipe now"},{image:Ke,loggingElement:10452,text:"Plan a meal for later"},{image:Ze,loggingElement:10453,text:"Find inspiration"}],other:10454},12:{images:[{image:Ze,loggingElement:10461,text:"Find style inspiration"},{image:Ye,loggingElement:10460,text:"Find beauty tutorials"},{image:Qe,loggingElement:10459,text:"Make a purchase"}],other:10462},16:{images:[{image:Ze,loggingElement:10449,text:"Find inspiration"},{image:j.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},j.a.createElement("path",{fill:"#FFF",d:"M4.50,20.75 C4.50,21.44 3.94,22.00 3.25,22.00 C2.56,22.00 2.00,21.44 2.00, 20.75 C2.00,20.06 2.56,19.50 3.25,19.50 C3.94,19.50 4.50,20.06 4.50,20.75 M17.00, 9.00 C16.46,9.00 15.97,8.78 15.61,8.44 C15.61,8.43 15.60,8.42 15.59,8.41 C15.58, 8.40 15.57,8.39 15.56,8.39 C15.22,8.03 15.00,7.54 15.00,7.00 C15.00,6.45 15.22, 5.95 15.59,5.59 L19.57,1.60 C18.79,1.23 17.92,1.00 17.00,1.00 C13.69,1.00 11.00, 3.69 11.00,7.00 C11.00,7.83 11.17,8.62 11.48,9.34 L1.66,19.16 C0.78,20.04 0.78, 21.46 1.66,22.34 C2.54,23.22 3.96,23.22 4.84,22.34 L14.66,12.52 C15.38, 12.83 16.17,13.00 17.00,13.00 C20.31,13.00 23.00,10.31 23.00,7.00 C23.00, 6.08 22.77,5.21 22.40,4.43 L18.41,8.41 C18.05,8.78 17.55,9.00 17.00,9.00"})),loggingElement:10448,text:"Plan a project"},{image:Qe,loggingElement:10447,text:"Make a purchase"}],other:10450},20:{images:[{image:Ze,loggingElement:10457,text:"Find style inspiration"},{image:Je,loggingElement:10456,text:"Plan for an occassion"},{image:Qe,loggingElement:10455,text:"Make a purchase"}],other:10458},31:{images:[{image:Ze,loggingElement:10457,text:"Find style inspiration"},{image:Je,loggingElement:10456,text:"Plan for an occassion"},{image:Qe,loggingElement:10455,text:"Make a purchase"}],other:10458}},nt=function(e){function t(n){E(this,t);var r=x(this,e.call(this,n));rt.call(r);var o=n.category,a=n.experiments,i=tt[o].images,s="enabled_two_choices"===a.getGroup("web_nux_intent_picker");return r.randomizedImageList=s&&9!==o?ze()(i.slice(0,2)):ze()(i),r.randomizedColorList=ze()(et),r}return C(t,e),t.prototype.componentDidMount=function e(){var t=this,n=Ve.a.getUnauthPins();if(setTimeout(function(){return t.setState({pins:n})}),!Ue.a.isEmpty(n)){var r=n[0].images["170x"];setTimeout(function(){return t.setState({pinImage:r.url,pinWidth:r.width,pinHeight:r.height})})}},t.prototype.render=function e(){var t=this.state,n=t.firstImageHover,r=t.secondImageHover,o=t.thirdImageHover,a=this.randomizedImageList.length>2;return j.a.createElement(V.b,{display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:$e},height:"100%"},j.a.createElement(V.b,{marginTop:8,marginLeft:8,dangerouslySetInlineStyle:{__style:{marginBottom:"134px",textAlign:"left"}}},"Got it! Now what do you want to do today?"),j.a.createElement(V.b,{display:"flex",justifyContent:"center",marginLeft:12,marginRight:12,marginBottom:8,dangerouslySetInlineStyle:{__style:{marginBottom:"102px"}}},j.a.createElement(V.b,{dangerouslySetInlineStyle:{__style:{marginRight:a?"48px":"120px"}},paddingX:4,top:!0},j.a.createElement(V.N,{onMouseEnter:this.toggleFirstHover,onMouseLeave:this.toggleFirstHover,onTouch:this.handleFirstImageTouch,fullWidth:!1},j.a.createElement(V.t,{height:180,shape:"circle",wash:n,width:180},j.a.createElement(V.b,{alignItems:"center",color:this.randomizedColorList[0],display:"flex",height:180,justifyContent:"center",width:180},this.randomizedImageList[0].image)),j.a.createElement(V.b,{marginTop:4,maxWidth:180},this.randomizedImageList[0].text))),j.a.createElement(V.b,{top:!0},j.a.createElement(V.N,{onMouseEnter:this.toggleSecondHover,onMouseLeave:this.toggleSecondHover,onTouch:this.handleSecondImageTouch,fullWidth:!1},j.a.createElement(V.t,{height:180,shape:"circle",wash:r,width:180},j.a.createElement(V.b,{alignItems:"center",color:this.randomizedColorList[1],display:"flex",height:180,justifyContent:"center",width:180},this.randomizedImageList[1].image)),j.a.createElement(V.b,{marginTop:4,maxWidth:180},this.randomizedImageList[1].text))),a?j.a.createElement(V.b,{marginLeft:12,paddingX:4,top:!0},j.a.createElement(V.N,{onMouseEnter:this.toggleThirdHover,onMouseLeave:this.toggleThirdHover,onTouch:this.handleThirdImageTouch,fullWidth:!1},j.a.createElement(V.t,{height:180,shape:"circle",wash:o,width:180},j.a.createElement(V.b,{alignItems:"center",color:this.randomizedColorList[2],display:"flex",height:180,justifyContent:"center",width:180},this.randomizedImageList[2].image)),j.a.createElement(V.b,{marginTop:4,maxWidth:180},this.randomizedImageList[2].text))):null),j.a.createElement(V.b,{display:"flex",justifyContent:"center"},j.a.createElement(V.N,{onTouch:this.handleOtherTouch,fullWidth:!1},H.a._("Something else","remaining option"))))},t}(L.Component),rt=function e(){var t=this;this.state={firstImageHover:!1,secondImageHover:!1,thirdImageHover:!1},this.handleFirstImageTouch=function(){t.handleTouch(t.randomizedImageList[0].loggingElement)},this.handleSecondImageTouch=function(){t.handleTouch(t.randomizedImageList[1].loggingElement)},this.handleThirdImageTouch=function(){t.handleTouch(t.randomizedImageList[2].loggingElement)},this.handleOtherTouch=function(){var e=t.props.category,n=tt[e].other;t.handleTouch(n)},this.handleTouch=function(e){var n=t.props,r=n.incrementNuxStep;(0,n.contextLog)(101,{element:e,view:24,viewParameter:3144}),r()},this.toggleFirstHover=function(){var e=t.state.firstImageHover;t.setState({firstImageHover:!e})},this.toggleSecondHover=function(){var e=t.state.secondImageHover;t.setState({secondImageHover:!e})},this.toggleThirdHover=function(){var e=t.state.thirdImageHover;t.setState({thirdImageHover:!e})}},ot=Object(Y.compose)(J.b,K.a)(nt),at=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxLoader"}],it=n("kzic"),st=function(e){function t(){var n,r,o;k(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=P(this,e.call.apply(e,[this].concat(i))),r.state={nuxStep:0,nuxProgress:0,selectedInterests:[],followedInterests:[],selectedPins:[],isExtUpsellRecommended:Q.d},r.onComplete=function(){var e=r.props,t=e.contextLog,n=e.dispatch,o=e.handleComplete,a=e.isLandingPage,i=e.isRenux;t(4105,{view:24}),i||n(Object(se.a)(!0)),o(),a&&r.handleNavigate("/")},r.handleNavigate=function(e){var t=r.props.router;if(t)t.push(e);else{var n=new B.a;F.default.navigate(e,n)}},r.handleSelectedInterestsChange=function(e,t){var n=function n(o,a){return{selectedInterests:r.getUpdatedSelectedObjects(o.selectedInterests,e,t),followedInterests:r.getUpdatedFollowInterests(o.followedInterests,e,t)}},o=r.getUpdatedSelectedObjects(r.state.selectedInterests,e,t).length;r.makeProgressOnTopicChange(o),r.setState(n)},r.handleSelectedPinsChange=function(e,t){var n=function n(o,a){return{selectedPins:r.getUpdatedSelectedObjects(o.selectedPins,e,t)}},o=r.getUpdatedSelectedObjects(r.state.selectedPins,e,t).length;r.makeProgressOnTopicChange(o),r.setState(n)},r.nuxSteps={NuxSingleUseCaseSignalStep:ot,NuxGenderStep:de,NuxLocaleCountryStep:Fe,NuxPicker:De.a,NuxExtensionUpsell:oe,NuxLoader:Pe},r.makeProgressOnTopicChange=function(e){var t=r.props,n=t.steps,o=t.experiments,a=t.numberToFollow,i=r.state.nuxStep,s=o.v2GetGroup("web_nux_progress_bar");if(Q.s.includes(s)&&Number.isInteger(e)){
var l=s===Q.r,c=100/(n.length+1),u=c*(i+1);if(e<=a)u+=c/a*e;else{if(!(l&&e<=a+3))return;u+=c+2*(e-a)}r.makeProgress(u)}},r.makeProgressOnStepIncrement=function(e){var t=r.props,n=t.steps,o=t.experiments,a=r.state.nuxProgress,i=o.v2GetGroup("web_nux_progress_bar");if(Q.s.includes(i)&&(-1===e||e>-1&&"NuxPicker"!==n[e].moduleName)){var s=(100-a)/(n.length-e);r.makeProgress(a+s)}},r.makeProgressOnLoader=function(e){var t=r.state.nuxProgress,n=100-t;e>=0?r.makeProgress(t+Math.ceil(n*e/100)):window.setTimeout(function(){r.makeProgress(100)},Q.t)},o=n,P(r,o)}return N(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.contextLog,r=t.experiments;n(4104,{view:24}),r.v2ActivateExperiment("web_nux_progress_bar"),this.makeProgressOnStepIncrement(-1)},t.prototype.getUpdatedFollowInterests=function e(t,n,r){var o=[].concat(t);return n.forEach(function(e){var t=Object.assign({},e,{is_followed:r}),n=!1;o=o.map(function(e){return e.id===t.id?(n=!0,t):e}),n||o.push(t)}),o},t.prototype.getPersonalizationCopy=function e(t){var n=this.props,r=n.viewer.firstName,o=void 0===r?"":r,a=n.isRenux,i=n.numberToFollow,s=n.steps;if(a)return{};switch(s[t].moduleName){case"NuxGenderStep":return{titleText:H.a._("Welcome","Greeting with inferred name on gender step."),headerText:H.a._("First, how would you describe yourself?","Header in NUX gender step."),subHeaderText:H.a._("Your answers to the next few questions will help us find the right ideas for you.","Subheader in NUX gender step.")};case"NuxLocaleCountryStep":return this.hasNuxStep("NuxGenderStep")?{headerText:H.a._("Almost done! Pick your language and location","Header in NUX locale/country step"),subHeaderText:H.a._("We'll make sure the ideas you see are in whatever language you pick","Subheader in NUX locale/country step")}:{titleText:R.c(H.a._("Welcome, {{ name }}!","Greeting with inferred name on country/locale step."),{name:o}),headerText:H.a._("First, pick your language and location","Header in NUX locale/country step"),subHeaderText:H.a._("We'll make sure the ideas you see are in whatever language you pick.","Subheader in NUX locale/country step")};case"NuxPicker":return{headerText:this.hasNuxStep("NuxExtensionUpsell")?H.a._("Tell us what you're interested in","Header in NUX topic picker step."):H.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."),subHeaderText:R.c(H.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas.","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(i)})};case"NuxExtensionUpsell":return{headerText:H.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:H.a._("Quickly save any idea you find around the web.","Subheader in NUX browser extension upsell step")};default:return{}}},t.prototype.getUpdatedSelectedObjects=function e(t,n,r){var o=[].concat(t);return n.forEach(function(e){var n=Object(G.a)(o,e);r&&!n?o.push(Object.assign({},e,{is_followed:!0})):!r&&n&&(o=t.filter(function(t){return t.id!==e.id}))}),o},t.prototype.nuxStepToRender=function e(t){var n=this.props,r=n.isRenux,o=n.steps,a=n.inStepGamificationExp,i=n.experiments,s=o[t].moduleName,l=Q.s.includes(i.v2GetGroup("web_nux_progress_bar")),c=this.nuxSteps[s],u=this.hasNuxStep("NuxGenderStep");return j.a.createElement(c,Object.assign({},o[t].options,{isRenux:r,selectedInterests:this.state.selectedInterests,followedInterests:this.state.followedInterests,selectedPins:this.state.selectedPins,hasGenderStep:u,onSelectedInterestsChange:this.handleSelectedInterestsChange,onSelectedPinsChange:this.handleSelectedPinsChange,personalizationCopy:this.getPersonalizationCopy(t),incrementNuxStep:this.incrementNuxStep(this.state.nuxStep),showProgressBar:l,makeProgressOnLoader:this.makeProgressOnLoader,inStepGamificationExp:a,experiments:i}))},t.prototype.incrementNuxStep=function e(t){var n=this,r=this.props,o=r.steps,a=r.experiments;return t>=o.length-1?this.onComplete:function(){n.makeProgressOnStepIncrement(t);var e=function e(r){return function(){n.setState(function(e,n){var o=e.nuxStep;if(o===t)return{nuxStep:o+(r?2:1)}})}},r=e(!1),i=e(!0),s=r,l=t+1;o.length>l&&o[l].options&&o[l].options.onStartApi?o[l].options.onStartApi===Q.j?Ce.a.create("OrientationContextResource",{follow_urss_topics:!0}).callCreate({showError:!1}).finally(s):s():o.length>l&&o[l].options&&"NuxExtensionUpsell"===o[l].moduleName&&Q.h.includes(a.v2ActivateExperiment("nux_extension_dt_model_delayed"))?Ce.a.create("NuxStepRecommendedResource",{module_name:"NuxExtensionUpsell",experiment_override:a.v2GetGroup("nux_extension_dt_model_delayed")}).callGet({showError:!1}).then(function(e){!!e.resource_response.data?s():(l+=1,s=i,o.length>l&&o[l].options&&o[l].options.onStartApi?o[l].options.onStartApi===Q.j?Ce.a.create("OrientationContextResource",{follow_urss_topics:!0}).callCreate({showError:!1}).finally(s):l>=o.length?n.onComplete():s():s())},s):s()}},t.prototype.makeProgress=function e(t){this.setState({nuxProgress:t})},t.prototype.hasNuxStep=function e(t){return this.props.steps.some(function(e){return e.moduleName===t})},t.prototype.render=function e(){var t=this.props,n=t.isRenux,r=t.handleDismiss,o=t.steps,a=t.isLandingPage,i=t.experiments,s=Q.s.includes(i.v2GetGroup("web_nux_progress_bar"));return j.a.createElement(Me,Object.assign({},n||a?{onHide:r}:{},{displayHide:Boolean(n&&"NuxLoader"!==o[this.state.nuxStep].moduleName),nuxStep:this.state.nuxStep,nuxProgress:this.state.nuxProgress,showCounter:"NuxLoader"!==o[this.state.nuxStep].moduleName&&!a&&!n&&!s,showProgressBar:s,steps:o.filter(function(e){return"NuxLoader"!==e.moduleName})}),this.nuxStepToRender(this.state.nuxStep))},t}(L.Component);st.contextTypes={country:z.a.string,locale:z.a.string,userAgent:z.a.shape({browserName:z.a.string})},st.defaultProps={numberToFollow:Q.f};var lt=t.a=Object(Y.compose)(_e.a,J.b,I,_,K.a,it.withRouter)(st)},McbO:function(e,t){function n(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}var r="Expected a function";e.exports=n},NRt2:function(e,t,n){function r(e,t){return o(t,function(t){return e[t]})}var o=n("ihZi");e.exports=r},S1T6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("W/Cr"),c=n("IaRT"),u=n.n(c),p=n("gEaE"),d=n("Cjb7"),m={backgroundColor:"transparent",border:0,right:80},h=function(e){function t(n,a){r(this,t);var i=o(this,e.call(this,n,a));i.subscribers=[];var s=n.handleComplete,l=n.transitionEvent,c=["navigateStarted"].concat(l?[l]:[]);return i.subscribers=c.map(function(e){return d.b.subscribe("site",e,s)}),i}return a(t,e),t.prototype.componentWillUnmount=function e(){this.subscribers.forEach(function(e){return e.unsubscribe()}),this.subscribers=[]},t.prototype.render=function e(){var t=this.props,n=t.bannerText,r=t.canClose,o=t.handleComplete;return s.a.createElement("div",{className:"Module BottomBanner"},s.a.createElement("div",{className:"bannerContainer"},s.a.createElement("div",{className:"bannerText"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),r&&s.a.createElement("button",{className:"absolute closeButton p0",onClick:o,style:m},s.a.createElement(p.n,{accessibilityLabel:l.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))},t}(i.Component);h.defaultProps={canClose:!1};var f=h,g=n("wUWH"),b=n("sOF4"),y=n("Rmuw"),w=[11019,11023,500207],v=function e(t){var n=t.placementId;return i.createElement(g.a,{placementId:n,experienceIds:w},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return i.createElement(f,Object.assign({},Object(y.a)(b.a)(r),{handleComplete:t,handleDismiss:n}))})},E=t.a=v},SX1z:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},UMFO:function(e,t,n){function r(e,t){var n;if("function"!=typeof t)throw new TypeError(a);return e=o(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var o=n("shhx"),a="Expected a function";e.exports=r},VqVH:function(e,t,n){function r(e){return o(2,e)}var o=n("UMFO");e.exports=r},WSm4:function(e,t,n){"use strict";var r=n("gWV8"),o=n("lIiJ");t.a=Object(o.b)({name:"LocalesResource",key:"items"})(r.a)},Xafg:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.name,n=e.upwtActionName,r=e.resourceDependencies,o=void 0===r?function(){return[]}:r,a=e.routeContextLog,c=void 0===a?function(e,t,n){return null}:a,p=e.metatagResource,d=void 0===p?function(){return null}:p,m=e.placementId,h=void 0===m?null:m,g=e.redirect,b=void 0===g?function(){return null}:g,y=e.getRenderError,w=void 0===y?function(){return null}:y;return function e(r){var a,p;return p=a=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function e(){var t=this.props,n=t.params,o=t.location,a=void 0===o?{}:o,i=(this.props.route||{}).legacy_server_context;return u.createElement(f,{log:c(i||{},n||{},a||{})},u.createElement(r,this.props))},t}(u.Component),a.displayName="StaticRouteData",a.WrappedComponent=r,a.routeName=t,a.upwtActionName=n,a.getResourceDependencies=o,a.getContextLog=c,a.getMetatagResource=d,a.placementId=h,a.getRedirect=b,a.getRenderError=w,p}}var u=n("d6ZO"),p=n.n(u),d=n("WjSu"),m=n("hVsM"),h=n("SnoN"),f=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props.log;if(t){var n=m.a.fromPlainObject(t);n.setEventType(13),n.setRequestIdentifier(d.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),h.a.getInstance().addEvent(n)}},t.prototype.render=function e(){return this.props.children},t}(u.Component),g=n("9FEF");t.a=c},YZ7u:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.completeButtonText,n=e.completeButtonUrl,r=e.completeButtonUrlInNewTab,o=e.dismissButtonText,a=e.handleComplete,i=void 0===a?function(){}:a,s=e.handleDismiss,l=void 0===s?function(){}:s,c=e.header,u=void 0===c?"":c,p=e.headerSubtitle,d=void 0===p?"":p;return E.a.createElement(C.a,{message:(u+" "+d).trim(),dismissButtonText:o||S.a._("Close","Closing a Hero banner"),completeButtonText:t||S.a._("Go","Completing the Hero banner"),completeUrl:n,onComplete:i,onDismiss:l,useNewTab:r})}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e){return se.includes(e)?x.a:le.includes(e)?q:ce===e?oe:ue===e?A:pe===e?N:z}var v=n("d6ZO"),E=n.n(v),x=n("RR/1"),C=n("WoVH"),_=n("Obkj"),S=n("W/Cr"),T=n("Kqaz"),O=n("gEaE"),I=n("MQ2h"),k=n.n(I),P=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={isCuratorModalOpen:!1,isNagShown:!0},a.handleCompleteExperience=function(){var e=a.props.contextLog;a.setState({isNagShown:!1,isCuratorModalOpen:!0}),e(101,{component:13171,element:10527})},a.handleDismissExperience=function(){var e=a.props,t=e.contextLog,n=e.handleDismiss;t(101,{component:13171,element:10529}),n()},a.handleHideCuratorModal=function(){a.setState({isCuratorModalOpen:!1}),a.props.contextLog(101,{component:13170,element:10529}),a.props.handleComplete()},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){var t=this.state,n=t.isNagShown,r=t.isCuratorModalOpen,o=this.props.handleComplete;return E.a.createElement(O.b,null,n?E.a.createElement(C.a,{experienceId:this.props.experienceId,message:S.a._("Want to change up what you see in your home feed?","Title for upsell banner"),dismissButtonText:S.a._("Not now","Upsell dismiss button"),completeButtonText:S.a._("Tune your feed","Upsell complete button"),onComplete:this.handleCompleteExperience,onDismiss:this.handleDismissExperience,useNewTab:!1}):null,r?E.a.createElement(_.a,{onDismiss:this.handleHideCuratorModal,handleCompleteExperience:o}):null)},t}(v.Component),N=Object(I.compose)(T.a)(P),L=n("wUWH"),j=n("qzVV"),R=n("Aw5z"),G=n("63eB"),F=n("IaRT"),H=n.n(F),B=n("i0Ug"),M=n("5tOk"),D=n("E7T4"),W=n("aKzT"),U=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));return r.onToggleCustomGender=function(){r.setState({showCustomGenderField:!r.state.showCustomGenderField})},r.state={gender:"",customGender:"",showCustomGenderField:!1},r}return l(t,e),t.prototype.onSelectGender=function e(t){t!==W.b||this.state.showCustomGenderField?this.setState({gender:t,customGender:""},this.updateGenderCompleteHero):this.setState({gender:"",customGender:""},this.onToggleCustomGender)},t.prototype.getCustomGenderField=function e(){var t=this;return E.a.createElement(O.b,{alignItems:"center",direction:"row",display:"flex"},E.a.createElement(O.b,{paddingX:1},E.a.createElement(O.K,{id:"custom_gender_input",onChange:function e(n){var r=n.value;return t.setState({customGender:r})},placeholder:S.a._("Custom gender","Placeholder text for custom gender field"),type:"text"})),E.a.createElement(O.b,{paddingX:1},E.a.createElement(O.c,{color:"white",inline:!0,onClick:function e(){return t.updateGenderCompleteHero()},size:"md",text:S.a._("Done","confirm button for entering custom gender")})))},t.prototype.getGenderButtons=function e(){var t=this,n=this.props.handleDismiss,r=this.state.showCustomGenderField?this.getCustomGenderField():E.a.createElement(O.b,{paddingX:1},E.a.createElement(O.c,{color:"transparent",onClick:function e(){return t.onSelectGender(W.b)},size:"md",text:S.a._("Custom","Custom gender option in list of male, female, custom")}));return E.a.createElement(O.b,{alignItems:"center",direction:"row",display:"flex",paddingX:3},E.a.createElement(O.b,{minWidth:"80px",paddingX:2},E.a.createElement(O.N,{onTouch:n},E.a.createElement(O.I,{bold:!0,color:"white",size:"md"},S.a._("Not now","Dismiss option for gender selection banner on HF")))),E.a.createElement(O.b,{paddingX:1},E.a.createElement(O.c,{color:"transparent",onClick:function e(){return t.onSelectGender(W.n)},size:"md",text:S.a._("Male","Male gender option in list of male, female, custom")})),E.a.createElement(O.b,{paddingX:1},E.a.createElement(O.c,{color:"transparent",onClick:function e(){return t.onSelectGender(W.i)},size:"md",text:S.a._("Female","Female gender option in list of male, female, custom")})),r)},t.prototype.getGenderSignalHero=function e(){var t=this.props.viewer.firstName,n=void 0===t?"":t;return E.a.createElement(O.b,{alignItems:"center",direction:"row",display:"flex",padding:4},E.a.createElement(O.b,{flex:"grow"},E.a.createElement(O.I,{bold:!0,color:"white",size:"md"},n.length>0?Object(M.h)(S.a._("Hey {{first_name}}! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender"),{first_name:n}):S.a._("Hey there! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender"))),this.getGenderButtons())},t.prototype.updateGenderCompleteHero=function e(){var t=this,n={updateUserData:{gender:"",custom_gender:""}};this.state.showCustomGenderField?(n.updateUserData.custom_gender=this.state.customGender,n.updateUserData.gender=null):(n.updateUserData.gender=this.state.gender,n.updateUserData.custom_gender=null);var r=function e(){t.props.handleComplete(),t.props.contextLog(101,{component:17,element:241,view:1});var n=new G.a;n.evt=new j.a("",null,{forceRefresh:1}),R.default.navigate("/",n)};this.props.dispatch(Object(D.b)(n)).then(r)},t.prototype.render=function e(){var t=E.a.createElement("div",{className:"Module HeroBasic genderSignalHero gray"},this.getGenderSignalHero());return"IE"===this.context.userAgent.browserName?t:E.a.createElement(O.F,{dangerouslySetZIndex:{__zIndex:2},top:65},t)},t}(v.Component);U.contextTypes={userAgent:H.a.shape({browserName:H.a.string.isRequired}).isRequired},U.defaultProps={handleComplete:function e(){},handleDismiss:function e(){}};var A=Object(I.compose)(T.a,B.a)(U),z=c,V=n("BAXv"),Z=n("FTnl"),X=n("kxCB"),K=3e3,Y=function(e){function t(){var n,r,o;u(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.state={errorMessages:{name:null,email:null}},r.handleDismissClick=function(e){var t=e.event;r.dismiss(t),r.props.contextLog(101,{component:13088,element:10267})},r.handleSubmitClick=function(){var e=r.props,t=e.contextLog,n=e.handleComplete,o=e.showToast;r.validate(r.state)&&(r.submitLead(r.state),o(function(e){var t=e.onHide;return E.a.createElement(Z.a,{duration:K,text:S.a._("Got it! We'll be in touch soon. Learn more","[m10n]"),onHide:t,href:V.a.GEN.templateConst.settings.PARTNER_PROPEL_BLOG_POST+"?utm_source=pinterest&utm_medium=toast&utm_campaign=propel_submit"})}),n()),t(101,{component:13088,element:10266})},r.handleNameChange=function(e){var t=e.value;r.setState({name:t})},r.handleEmailChange=function(e){var t=e.value;r.setState({email:t})},o=n,p(r,o)}return d(t,e),t.prototype.submitLead=function e(t){(0,this.props.contextLog)(6974,{component:13087,lead_first_name:t.name,lead_email:t.email,lead_source:"InAppLeadGenHero"})},t.prototype.validate=function e(t){var n=t.name,r=void 0===n?"":n,o=t.email,a=void 0===o?"":o,i={},s=!1;return r.trim().length||(i.name=S.a._("What's your name?","[m10n]"),s=!0),a.trim().length&&a.includes("@")||(i.email=S.a._("What's your email?","[m10n]"),s=!0),this.setState({errorMessages:i}),!s},t.prototype.dismiss=function e(t){t.preventDefault(),this.props.handleDismiss()},t.prototype.render=function e(){var t=this.state.errorMessages;return E.a.createElement(O.b,{color:"darkGray",flex:"grow",position:"relative"},E.a.createElement(O.b,{position:"absolute",top:!0,right:!0,deprecatedPadding:{x:3,y:4}},E.a.createElement(O.o,{accessibilityLabel:S.a._("Close Hero","[m10n]"),iconColor:"white",icon:"cancel",onClick:this.handleDismissClick,size:"sm"})),E.a.createElement(O.h,null,E.a.createElement(O.b,{deprecatedPadding:{y:6,x:4}},E.a.createElement(O.b,{xs:{column:12}},E.a.createElement(O.m,{color:"white",size:"sm"},S.a._("You’re invited to Pinterest Propel","[m10n]"))),E.a.createElement(O.b,{xs:{column:12},deprecatedMargin:{top:2,bottom:3}},E.a.createElement(O.I,{bold:!0,color:"white",smSize:"md",mdSize:"xl"},S.a._("Join today for phone support, custom Pins and expert tips for growing your business — all for free.","[m10n]"))),E.a.createElement(O.b,{sm:{display:"flex"}},E.a.createElement(O.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},E.a.createElement(O.K,{id:"name",placeholder:S.a._("Name","[m10n] A prospective customer's name"),type:"email",idealErrorDirection:"down",onChange:this.handleNameChange,errorMessage:t.name})),E.a.createElement(O.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},E.a.createElement(O.K,{id:"email",placeholder:S.a._("Email","[m10n] A prospective customer's email address"),type:"email",idealErrorDirection:"down",onChange:this.handleEmailChange,errorMessage:t.email})),E.a.createElement(O.b,{xs:{column:12},sm:{column:2}},E.a.createElement(O.c,{color:"red",inline:!0,onClick:this.handleSubmitClick,text:S.a._("Sign up","[m10n]"),type:"submit"}))))))},t}(E.a.Component),q=Object(I.compose)(T.a,X.a)(Y),J=n("6P5Y"),Q=n.n(J),$=E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),E.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),E.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),E.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),E.a.createElement("path",{d:"M20 20h472v472H20V20z"})),ee=function(e){function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.state={hover:!1},r.handleConnectClick=function(){r.props.handleSocialConnectClick(r.props.socialMedia)},r.toggleHover=function(){r.setState({hover:!r.state.hover})},o=n,h(r,o)}return f(t,e),t.prototype.getButtonStyle=function e(){var t={};t.borderRadius="4";var n="gplus"===this.props.socialMedia?"6px 40px 6px 0px":"6px 20px 6px 0px",r="",o="";return"white"===this.props.buttonBackgroundColor?(o="#FFFFFF","facebook"===this.props.socialMedia?r="#3B5998":"gplus"===this.props.socialMedia&&(r="#0084FF")):"blue"===this.props.buttonBackgroundColor&&(r="#FFFFFF","facebook"===this.props.socialMedia?o="#3B5998":"gplus"===this.props.socialMedia&&(o="#0084FF")),this.state.hover&&(o="#EDEDED"),t.color=r,t.padding=n,t.backgroundColor=o,t},t.prototype.getFacebookIcon=function e(){return E.a.createElement(O.b,{dangerouslySetInlineStyle:{__style:{borderRadius:10,backgroundColor:"#3B5998"}},height:24,marginLeft:2,position:"relative",left:!0,width:24},E.a.createElement(O.n,{accessibilityLabel:S.a._("facebook","accessible label for facebook icon"),color:this.state.hover?"lightGray":"white",icon:"facebook",inline:!0,size:24}))},t.prototype.getGPlusIcon=function e(){return E.a.createElement(O.b,{alignSelf:"center",color:this.state.hover?"lightGray":"white",display:"flex",height:24,marginLeft:2,position:"relative",width:24},this.logo(24))},t.prototype.logo=function e(t){return E.a.createElement("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg"},$)},t.prototype.renderSocialConnectButton=function e(){var t=this.getButtonStyle();return E.a.createElement(O.b,{marginRight:2,onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},E.a.createElement(O.N,{onTouch:this.handleConnectClick},E.a.createElement(O.b,{alignItems:"center",display:"flex",position:"relative",dangerouslySetInlineStyle:{__style:t}},"facebook"===this.props.socialMedia?this.getFacebookIcon():this.getGPlusIcon(),E.a.createElement(O.b,{marginLeft:3},E.a.createElement(O.I,{bold:!0},E.a.createElement("span",{style:{color:t.color}},this.props.buttonText))))))},t.prototype.render=function e(){return this.renderSocialConnectButton()},t}(v.Component),te=n("cD7N"),ne=n("mHth"),re=function(e){function t(){var n,r,o;g(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=b(this,e.call.apply(e,[this].concat(i))),r.state={network:""},r.setConnectSuccess=function(e){r.setState({network:e},r.handleComplete)},r.handleSocialConnectClick=function(e){te.a.instance().handleConnect(e,!0,{success:function t(){r.setConnectSuccess(e)}})},o=n,b(r,o)}return y(t,e),t.prototype.getText=function e(){return""===this.state.network?this.props.subTitle:"gplus"===this.state.network?this.props.gplusConnectSuccess:this.props.facebookConnectSuccess},t.prototype.handleComplete=function e(){var t=this,n=!0;Q()(function(e,n,r){t.props.experienceClient.completeExperience(e,n,r)},this.props.successMsgCloseDelayInMills,11,this.props.experienceId,!0)},t.prototype.render=function e(){var t="#0084FF",n="white",r=this.props.handleDismiss;return E.a.createElement(O.b,{dangerouslySetInlineStyle:{__style:{backgroundColor:t,borderRadius:8}},display:"flex",justifyContent:"between",marginLeft:6,marginRight:8,marginTop:4,paddingX:7,paddingY:3},E.a.createElement(O.b,{alignSelf:"center"},E.a.createElement(O.I,{bold:!0,color:"white"},E.a.createElement("span",{style:{fontSize:"23px"}},this.getText()))),""===this.state.network&&E.a.createElement(O.b,{display:"flex",alignItems:"center",justifyContent:"between",marginRight:-3,minWidth:380},E.a.createElement(ee,{buttonBackgroundColor:"white",buttonText:this.props.connectWithGoogle,socialMedia:"gplus",handleSocialConnectClick:this.handleSocialConnectClick}),E.a.createElement(ee,{buttonBackgroundColor:"white",buttonText:this.props.connectWithFacebook,socialMedia:"facebook",handleSocialConnectClick:this.handleSocialConnectClick}),E.a.createElement(O.b,{alignSelf:"center"},E.a.createElement(O.o,{accessibilityLabel:S.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"}))),""!==this.state.network&&E.a.createElement(O.b,{marginRight:-3},E.a.createElement(O.o,{accessibilityLabel:S.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"})))},t}(v.Component),oe=Object(I.compose)(ne.a)(re),ae=n("sOF4"),ie=n("Rmuw"),se=[500268,500464,500528,500716],le=[500385],ce=500413,ue=500654,pe=500693,de=function e(t){var n=t.placementId;return v.createElement(L.a,{placementId:n,type:13},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=w(t);return v.createElement(a,Object.assign({},Object(ie.a)(ae.a)(o),{experienceId:t,handleComplete:n,handleDismiss:r}))})},me=t.a=de},ZWUK:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("wUWH"),i=n("FTnl"),s=n("Kqaz"),l=function e(t){return r.createElement(a.a,{placementId:t.placementId,type:10},function(e){var n=e.complete,o=e.dismiss,a=e.display_data,s=a.link||t.linkUrl,l=function e(){t.shouldLogClicks&&t.contextLog(101,{objectId:t.objectId,component:t.thriftComponentType,element:t.thriftElementType})},c=function e(){n(),t.onClick&&t.onClick(),t.shouldLogClicks&&l()},u=function e(){t.onHide(),t.completionOnDismissal?n():o()};return r.createElement(i.a,{duration:a.duration,href:s,text:a.text,onClick:c,onHide:u})})};t.a=Object(s.a)(l)},aQMl:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("ZWUK"),c=n("kxCB"),u=2e3,p=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.componentDidMount=function(){a.experienceToastsTimeout=window.setTimeout(function(){return a.triggerEducationToasts()},u)},i=n,o(a,i)}return a(t,e),t.prototype.componentWillUnmount=function e(){window.clearTimeout(this.experienceToastsTimeout)},t.prototype.triggerEducationToasts=function e(){var t=this.props,n=t.showToast,r=t.hideAllToasts,o=t.completionOnDismissal,a=t.placementId;r(),n(function(e){var t=e.onHide;return s.a.createElement(l.a,{completionOnDismissal:o,onHide:t,placementId:a})})},t.prototype.render=function e(){return null},t}(i.Component);p.defaultProps={completionOnDismissal:!1},t.a=Object(c.a)(p)},"bUn+":function(e,t,n){"use strict";var r=n("BAXv"),o=n("Kd65"),a=n.n(o),i=n("ieR2"),s=n("85jk"),l=604800,c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:604800,r=window.localStorage.getItem(t);return r&&Date.now()-parseInt(r,10)>1e3*n},u={logUrl:function e(){i.b.localStorage.getItem("lastVisitedPage")!==window.location.pathname&&(i.b.localStorage.prependItem("visitedPages",{path:window.location.pathname,ts:Date.now()},r.a.MAX_STORED_VISITED_PAGES),i.b.localStorage.setItem("lastVisitedPage",window.location.pathname))},logUrlAndFirstPinImageSig:function e(t){i.b.localStorage.getItem("lastVisitedPage")!==window.location.pathname&&(i.b.localStorage.prependItem("visitedPages",{path:window.location.pathname,ts:Date.now(),first_pin_image_signature:t||""},r.a.MAX_STORED_VISITED_PAGES),i.b.localStorage.setItem("lastVisitedPage",window.location.pathname))},logPinCTAClick:function e(t){i.b.localStorage.prependItem("visitedPages",{path:t,ts:Date.now(),actions:[1]},r.a.MAX_STORED_VISITED_PAGES)},logPinPage:function e(t){if(t&&t.id)if(a.a.get("lastVisitedPinPages")){var n=JSON.parse(a.a.get("lastVisitedPinPages"));n.length>=r.a.MAX_STORED_VISITED_PIN_PAGES&&n.shift(),n.push(t.id),a.a.set("lastVisitedPinPages",JSON.stringify(n)),Object(s.a)("unauth_pin_cookie."+n.length)}else a.a.set("lastVisitedPinPages",JSON.stringify([t.id]))},logPinCloseup:function e(t){if(t&&t.id){var n={id:t.id,ts:Date.now()};t.image&&(n.image=t.image);var o=i.b.localStorage.getItem("unauthPinCloseup");if(o){Array.isArray(o[0])&&(i.b.localStorage.removeItem("unauthPinCloseup"),o=[]);for(var a=0;a<o.length;a+=1)o[a].id===n.id&&o.splice(a,1),a>=r.a.MAX_STORED_VISITED_PINS&&o.shift();o.push(n)}else o=[n];i.b.localStorage.setItem("unauthPinCloseup",o)}},logTopicClick:function e(t){if(t&&t.id&&t.name){var n={id:t.id,ts:Date.now(),name:t.name},o="";if(t.images){var a=Object.keys(t.images);a.length>0&&t.images[a[0]].url&&(o=t.images[a[0]].url)}else t.image&&(o=t.image);n.imageUrl=o,t.background_color&&(n.backgroundColor=t.background_color);var s=i.b.localStorage.getItem("unauthTopicVisit");if(s){Array.isArray(s[0])&&(i.b.localStorage.removeItem("unauthTopicVisit"),s=[]);for(var l=0;l<s.length;l+=1)s[l].id===n.id&&s.splice(l,1),l>=r.a.MAX_STORED_VISITED_TOPICS&&s.shift();s.push(n)}else s=[n];i.b.localStorage.setItem("unauthTopicVisit",s)}},hasClickedPins:function e(){var t=i.b.localStorage.getItem("unauthPinCloseup");return t&&t.length>0},getRecentClickedPins:function e(t){var n=i.b.localStorage.getItem("unauthPinCloseup");return this._getRecentItems(t,n)},getRecentClickedTopics:function e(t){var n=i.b.localStorage.getItem("unauthTopicVisit");return this._getRecentItems(t,n)},_getRecentItems:function e(t,n){return n?n.length<=t?n:n.slice(n.length-t):[]},getLastVisitedFeedInfo:function e(){var t=i.b.localStorage.getItem("lastVisitedPage"),n=[];if(!t)return null;if((n=t.split("/")).length<4)return null;var r=n[1],o=n[2];switch(r){case"pin":return{pageType:"pin",id:o};case"explore":return{pageType:"explore",id:o};default:return null}},logUnauthImageFeed:function e(t){var n=t.map(function(e){return e.images&&e.images["170x"]&&e.images["170x"].url}).filter(function(e){return!!e});n.length&&i.b.localStorage.setItem("unauthRecentImageFeed",n)},getUnauthImageFeed:function e(){return i.b.localStorage.getItem("unauthRecentImageFeed")||[]},logUnauthPins:function e(t){t.length&&i.b.localStorage.setItem("unauthPins",t)},getUnauthPins:function e(){return i.b.localStorage.getItem("unauthPins")||[]},getUnauthCloseupCount:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:604800,n=i.b.localStorage.getItem("unauthHybridCloseupCount");return c("unauthHybridCloseupTS",t)||!n?0:parseInt(n,10)||0},logUnauthHybridCloseup:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:604800,n=this.getUnauthCloseupCount();c("unauthHybridCloseupTS",t)||!n?(i.b.localStorage.setItem("unauthHybridCloseupCount",1),i.b.localStorage.setItem("unauthHybridCloseupTS",Date.now())):i.b.localStorage.setItem("unauthHybridCloseupCount",n+1)},getUnauthClickthroughCount:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:604800,n=i.b.localStorage.getItem("unauthHybridClickthroughCount");return c("unauthHybridClickthroughTS",t)||!n?0:parseInt(n,10)||0},logUnauthHybridClickthrough:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:604800,n=this.getUnauthClickthroughCount();c("unauthHybridClickthroughTS",t)||!n?(i.b.localStorage.setItem("unauthHybridClickthroughCount",1),i.b.localStorage.setItem("unauthHybridClickthroughTS",Date.now())):i.b.localStorage.setItem("unauthHybridClickthroughCount",n+1)},logLoginSignupModalView:function e(){i.b.localStorage.setItem("unauthHybridLoginModalView",Date.now())},getLoginSignupModalView:function e(){return i.b.localStorage.getItem("unauthHybridLoginModalView")||0}};t.a=u},bbMF:function(e,t,n){"use strict";function r(){var e=i.a.getBrowser();return e?e===l.a.BrowserType.SAFARI||y[e].newWindow:void 0}function o(){var e=i.a.getBrowser();return e?y[e].url:void 0}function a(e,t){var n=o();chrome.webstore.install(n,e,t)}var i=n("JGru"),s=n("FHH+"),l=n("BAXv"),c=n("Kd65"),u=n.n(c),p=n("5JJA"),d=n.n(p),m=n("Cjb7"),h=void 0,f="data-pinterest-extension-installed",g=100,b={},y={};y[l.a.BrowserType.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},y[l.a.BrowserType.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},y[l.a.BrowserType.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!1},y[l.a.BrowserType.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},y[l.a.BrowserType.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},b.handleExtensionInstall=function(e,t){var n=o();if(n){var i=t||function(){Object(s.a)(n,r())};b.isChrome()?a(e,i):i()}},b.isExtensionInstalled=function(){return h},b.isChrome=function(){return i.a.getBrowser()===l.a.BrowserType.CHROME},b.extensionReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(t){setTimeout(function(){h=document.body.hasAttribute("data-pinterest-extension-installed"),u.a.set("bei",h),i.a.getBrowser()===l.a.BrowserType.OTHER&&(h=!0),t(h)},e)})},b.initBrowserExtension=function(){d()().then(function(e){var t=e.default;t.logToServer(t.SERVER_LOG_TYPE.BROWSER_EXTENSION,t.HTTP_METHOD.POST,{browser_extension_installed:h}),m.a.instance.publish("browserExtension","browserExtensionStateUpdated")})},t.a=b},behT:function(e,t,n){"use strict";var r=n("gWV8"),o=n("lIiJ");t.a=Object(o.b)({name:"CountriesResource",key:"items"})(r.a)},gWV8:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n("d6ZO"),a=n.n(o),i=n("IaRT"),s=n.n(i),l=n("gEaE"),c=function e(t){var n=t.items,o=r(t,["items"]),i=(n.data||[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}}),s=o.id,c=o.name,u=o.onChange,p=o.value;return a.a.createElement(l.D,{id:s,name:c,onChange:u,options:i,value:p})};t.a=c},haoC:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var s=n("d6ZO"),l=n.n(s),c=n("wUWH"),u=n("LWri"),p=n("IaRT"),d=n.n(p),m=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillUnmount=function e(){this.props.denzel&&window.location.reload()},t.prototype.render=function e(){return l.a.createElement(u.a,Object.assign({},this.props,{handleComplete:this.props.handleComplete}))},t}(s.Component),h=n("sOF4"),f=n("YZkw"),g=n("Rmuw"),b=n("DVnr");n.d(t,"a",function(){return w});var y=function e(t){var n=t.placementId,r=i(t,["placementId"]);return s.createElement(c.a,{placementId:n,type:9,preventRemoval:!0},function(e){var t=e.complete,n=e.dismiss,o=e.display_data;return s.createElement(m,Object.assign({},Object(g.a)(h.a,!0)(o),{handleComplete:t,handleDismiss:n},r))})},w=Object(f.a)(40001)(function(e){return s.createElement("div",{style:{marginTop:-b.a}},s.createElement(y,e))}),v=y},jPJg:function(e,t,n){"use strict";function r(e){var t=e.clickHandler,n=e.interest,r=e.isOverflow,o=e.isSelected,i=e.notSelectable,c=e.showTextOnlyTopics,u=n.background_color,d=n.follower_count,f=n.images,w=n.label,v=d>0,E=f["400x"],x=v?"md":"lg",C="xs",_=b(28,1),S=Object(h.b)(d),T=Object(g.h)(l.a._("{{formattedFollowerCount}} followers",'number, like "2M" or "137K", of users who follow a topic'),{formattedFollowerCount:S}),O=function e(){var c="lightGray";return(i||o)&&(c=n.boxColor),r&&(c="red"),a.a.createElement(p.b,{height:80,width:235,shape:"rounded",color:c},a.a.createElement("button",{className:s()("NuxInterest","TextOnly",{notSelectable:i}),role:"option","aria-selected":o,onClick:t},a.a.createElement(p.b,{alignItems:"center",direction:"row",display:"flex",marginLeft:-1,marginRight:-1},a.a.createElement(p.b,{paddingX:5,flex:"grow"},a.a.createElement(p.I,{size:"xl",bold:!0,align:"left",color:i||o?"white":"darkGray"},r?l.a._("and more","there are other interests not shown"):w)),o&&a.a.createElement(p.b,{paddingX:5},a.a.createElement(p.n,{accessibilityLabel:l.a._("selected"),size:24,icon:"check-circle",color:"white"})))))};return c?O():a.a.createElement(p.t,{shape:"rounded"},a.a.createElement(p.b,{shape:"rounded",position:"relative",display:"inlineBlock"},a.a.createElement("button",{className:s()("NuxInterest",{notSelectable:i}),role:"option","aria-selected":o,onClick:t},a.a.createElement("div",{className:s()("interestCardWrapper",{darkBottomHalf:v})},a.a.createElement(p.b,{position:"absolute",bottom:!0,margin:2},!r&&a.a.createElement(p.I,{align:"left",bold:!0,color:"white",size:x},w),!r&&v&&a.a.createElement(p.I,{align:"left",color:"white",size:"xs"},T)),o&&a.a.createElement("div",{className:s()("selectedWrapper")},_,y),o||i?null:a.a.createElement("div",null,a.a.createElement("div",{className:s()("hoverText")},a.a.createElement(p.I,{bold:!0,color:"white",overflow:"breakWord",align:"left",size:x},w),v&&a.a.createElement(p.I,{align:"left",color:"white",size:"xs"},T)),a.a.createElement("div",{className:s()("hoverMask")}))),r?a.a.createElement("div",{className:"overflowMask"},l.a._("+ more","there are other interests not shown")):a.a.createElement(m,{color:u,image:E,label:w}))))}var o=n("d6ZO"),a=n.n(o),i=n("GGB8"),s=n.n(i),l=n("W/Cr"),c=n("IaRT"),u=n.n(c),p=n("gEaE"),d=a.a.createElement("div",{className:"defaultImageWash"}),m=function e(t,n){var r=t.color,o=t.image,i=t.label;return a.a.createElement(p.p,{alt:i,color:r,fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url},d)},h=n("32ZW"),f=n("aKzT"),g=n("5tOk"),b=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a.a.createElement(p.b,{position:"absolute",right:!0,deprecatedMargin:{top:n,right:n,left:n}},a.a.createElement(p.n,{accessibilityLabel:l.a._("selected"),color:"white",icon:"check-circle",size:t}))},y=a.a.createElement("div",{className:"selectedOverlay"}),w=t.a=r},jklE:function(e,t,n){function r(e){return a(o(e))}var o=n("HHxI"),a=n("4va0");e.exports=r},kufG:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("GGB8"),i=n.n(a),s=n("IaRT"),l=n.n(s),c=n("gEaE"),u=n("W/Cr"),p=o.a.createElement("svg",{className:"NuxPicker__Pin--checkmark",width:"36px",height:"35px",viewBox:"0 0 36 35",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Page-3",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M13.6602595,28.4783755 L4.40887531,18.7370706 C3.43092173, 17.7073281 1.79714302,17.6599384 0.757774386,18.6291653 L0.864892653, 18.5292759 C-0.168923273,19.4933249 -0.224971924,21.1182411 0.752106805, 22.1470624 L12.1257655,34.1230299 C13.1037191,35.1527725 14.7374978, 35.2001621 15.7768664,34.2309352 L15.6697481,34.3308246 C15.747451, 34.2583655 15.8196302,34.1821731 15.8862623,34.102781 C16.0257866, 33.9698537 16.1521878,33.8186894 16.2618208,33.6500527 L35.150904, 4.59500401 C35.9077852,3.43077484 35.5815083,1.87912057 34.4235459, 1.12713099 C33.2679397,0.376671553 31.7138048,0.708545033 30.9575511, 1.87180883 L13.6602595,28.4783755 Z",id:"Combined-Shape",fill:"#FFFFFF"}))),d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return o.a.createElement(c.b,{position:"absolute",right:!0,deprecatedMargin:{top:n,right:n,left:n}},o.a.createElement(c.n,{accessibilityLabel:u.a._("selected"),color:"white",icon:"check-circle",size:t}))},m=function e(t){var n=t.label,r=t.textSize,a=t.showSmallCheckmark,s=a?d(28,1):p;return o.a.createElement("div",{className:i()("InterestCardWrapper__selectedWrapper")},s,o.a.createElement("div",{className:i()("InterestCardWrapper__selectedOverlay",{smallCheckmark:a})}),o.a.createElement("div",{className:i()("InterestCardWrapper__selectedOverlayText")},o.a.createElement(c.I,{bold:!0,color:"white",overflow:"breakWord",align:"left",size:r},n)))},h={border:"none",height:"180px",padding:0,width:"180px"},f=l.a.shape({images:l.a.shape({"400x":l.a.shape({height:l.a.number,url:l.a.string,width:l.a.number})})}),g=o.a.createElement(m,{isMobile:!1,label:"",showSmallCheckmark:!0,textSize:"lg"}),b=function e(t){var n=t.data,r=t.handlePinClick,a=t.notSelectable,i=n.images["400x"],s=o.a.createElement(c.p,{alt:"Pin Image",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url});return o.a.createElement(c.t,{shape:"rounded"},a?o.a.createElement("div",{style:h},s):o.a.createElement("button",{onClick:r(n),style:h},n.is_followed&&g,s))};b.defaultProps={handlePinClick:function e(){}};var y=t.a=b},nWYF:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=o.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),i=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s="M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",l=a,c=void 0;c=n?"-3 -3 82 82":"3 3 70 70";var u=void 0;return u=r||"#BD081C",i?o.a.createElement("svg",{height:t,viewBox:c,width:t},n?l:null,o.a.createElement("path",{d:s,fill:u,fillRule:"evenodd"})):o.a.createElement("svg",{height:t,style:{display:"block"},viewBox:c,width:t},n?l:null,o.a.createElement("path",{d:s,fill:u,fillRule:"evenodd"}))};t.a=i},pjQJ:function(e,t,n){"use strict";function r(e){var t=e.title,n=e.interests,r=e.InterestComponentToRender;return m.a.createElement(E.b,null,m.a.createElement(E.b,{marginBottom:2,marginLeft:1},m.a.createElement(E.I,{size:"xl",color:"darkGray",bold:!0},t)),m.a.createElement(E.b,{direction:"row",display:"flex"},n.map(function(e){return m.a.createElement(E.b,{marginRight:3,key:e.id},m.a.createElement(r,{data:e}))})))}function o(e){var t=[];return e.forEach(function(e){t[e.row]=t[e.row]||[],t[e.row].push(e)}),t}function a(e){var t=e.interests,n=e.InterestComponentToRender,r=o(t);return m.a.createElement(E.b,{display:"flex",justifyContent:"center"},m.a.createElement(E.b,{marginBottom:6,width:728},r.map(function(e,t){var o=e[0].rowName,a=t===r.length-1;return m.a.createElement(E.b,{key:t,marginBottom:a?0:6},m.a.createElement(N,{interests:e,InterestComponentToRender:n,title:o}))})))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=n("d6ZO"),m=n.n(d),h=n("5tOk"),f=n("GGB8"),g=n.n(f),b=n("tvce"),y=n("W/Cr"),w=n("IaRT"),v=n.n(w),E=n("gEaE"),x=function e(t){var n=t.isSkip,r=t.buttonText,o=t.isDisabled,a=t.showFooter,i=t.handleNextClick,s=t.showBottomButton;if(!a)return null;var l=g()("NuxPickerFooter__footerWash",{bottomSpace:s});return m.a.createElement("div",{className:g()("NuxPickerFooter",{collapsedFooter:!s})},m.a.createElement("div",{className:l}),s?m.a.createElement("div",{className:g()("NuxPickerFooter__buttonWrapper"),"data-test-id":"nux-picker-btn"},m.a.createElement(E.b,{marginLeft:8,marginRight:8,marginTop:7},m.a.createElement(E.c,{size:"lg",color:n?"gray":"red",text:r,disabled:o,onClick:i,type:"submit"}))):null)},C=n("dCTv"),_=n("aKzT"),S=function e(t){var n=t.isRenux,r=t.isSingleUseCase,o=t.titleText,a=t.detailedText,i=t.experiments,s=t.topicDecrementingTextGroup,l=t.selectedInterests,c=t.buttonText,u=t.hasGenderStep,p=t.isSkip,d=t.isDisabled,f=t.numberToFollow,b=t.showBottomButton,w=t.handleNextClick,v=t.personalizationCopy,x=Math.max(0,f-l.length),C=t.mandateText,S=t.subMandateText;n&&(u&&(i.getGroup("web_renux_gender_step")||"").startsWith("enabled")?(C=y.a._("Great! One more step..."),S=y.a._("Pick the kinds of ideas you want to find")):(C=o,S=a));var T={headerText:C||y.a._("What are you interested in?"),subHeaderText:S||y.a._("Pick 5 (or more!) to discover new ideas")};if(["enabled_bottom","enabled_top_right"].includes(s)){T.headerText=y.a._("What are you interested in?");var O="";x===f?O=y.a.ngettext("Pick {{ numberLeftToFollow }} or more to discover new ideas","Pick {{ numberLeftToFollow }} or more to discover new ideas",x):x>0&&x<f?O=y.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",x):0===x&&(O=y.a._("Pick a few more or click ‘Next’ to continue")),O&&(T.subHeaderText=h.h(O,{numberLeftToFollow:x}))}r&&(T.headerText="Now pick "+f+" or more ideas you like",T.subHeaderText="The more you pick, the better the ideas you’ll get");var I=v.headerText,k=v.subHeaderText;return I&&k&&(T.headerText=I,T.subHeaderText=k),m.a.createElement("div",null,m.a.createElement("div",{className:g()("NuxPickerHeader")},m.a.createElement("div",null,m.a.createElement("h2",{className:g()("NuxPickerHeader__headerTitle"),style:_.k},T.headerText),m.a.createElement("h3",{className:g()("NuxPickerHeader__headerSubTitle"),style:_.l},T.subHeaderText)),b?null:m.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{WebkitFontSmoonthing:"antialiased"}},position:"absolute",top:!0,right:!0},m.a.createElement(E.c,{size:"md",color:p?"gray":"red",text:c,disabled:d,onClick:w,type:"submit"}))))},T=Object(C.b)(S),O=n("32ZW"),I=n("hKtD"),k=function e(t){var n=t.interests,r=t.isFetching,o=t.InterestComponentToRender,a=t.gridContainerRef,i=t.showTextOnlyTopics?_.o.TEXT_ONLY:_.o.DESKTOP;return m.a.createElement("div",{style:i.STYLES},m.a.createElement(E.u,{columnWidth:i.COLUMN_WIDTH,comp:o,loadItems:function e(){},gutterWidth:i.GUTTER_WIDTH,items:n,minCols:i.COLUMNS,scrollContainer:function e(){return a||window}}),m.a.createElement(E.E,{accessibilityLabel:y.a._("Loading topics"),show:r}))},P=n("jPJg"),N=r,L=a,j=n("ieR2"),R=function e(t){var n=t.inRenuxValueProp,r=t.interests,o=t.handleInterestClick,a=function e(n){var a=n.itemIdx,i=n.data,s={clickHandler:o(i),interest:i,key:i.id,isSelected:i.is_followed,showTextOnlyTopics:t.showTextOnlyTopics};return r.length>0&&j.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),m.a.createElement(P.a,s)};return n?m.a.createElement(L,Object.assign({},t,{InterestComponentToRender:a})):m.a.createElement(k,Object.assign({},t,{InterestComponentToRender:a}))},G=n("VqVH"),F=this,H=n.n(G)()(function(){j.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)}),B=function e(t){var n=t.interests,r="enabled_top_right"===t.topicDecrementingTextGroup;return m.a.createElement("div",{onWheel:H,ref:function e(t){F.gridContainer=t},className:g()("NuxPickerInterestsGrid",{fullHeight:r})},n.length>0?m.a.createElement(R,Object.assign({},t,{gridContainerRef:F.gridContainer})):m.a.createElement(E.E,{accessibilityLabel:y.a._("Loading default interests"),show:!0}))},M=n("f9lI"),D=n("Kqaz"),W=n("MQ2h"),U=n.n(W),A=n("yS1v"),z=n("+kCg"),V=n("JKYN"),Z=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={defaultInterests:[]},r.handleInterestClick=function(e){return function(){var t=r.props,n=t.selectedInterests,o=t.onSelectedInterestsChange,a=!Object(O.a)(n,e);o([e],a),r.logInterestClick(a)}},r.logInterestClick=function(e){var t=36;(0,r.props.contextLog)(101,{component:36,element:e?1030:1151,view:24,viewParameter:172})},r.recordRenderPWT=function(){r.renderTimersPWT.pop().endTiming({upwtStopReason:1,isPageLoad:!1})},r.recordedSignupToNuxRenderPWT=!1,r.recordSignupToNuxRenderPWT=function(){var e=111,t=4,n=new z.a;n.beginTiming({eventName:111,metricCause:4,isPageLoad:!1,cookie:{name:"signupTimePWT",setter:!1,expiration:_.u}}),n.endTiming({upwtStopReason:1,isPageLoad:!1}),r.recordedSignupToNuxRenderPWT=!0},r.componentName=_.q,r.recordRenderLogToServer=function(){var e=r.renderTimers.pop();e.end(),I.default.logToServer(I.default.SERVER_LOG_TYPE.RENDER_TIME,I.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:r.componentName})},r.renderTimersPWT=[],r.renderTimers=[],o=n,s(r,o)}return l(t,e),t.prototype.componentWillReceiveProps=function e(t){var n=this.props,r=n.defaultInterestsResource,o=n.inRenuxValueProp,a=n.selectedInterests;if(t.defaultInterestsResource){var i=j.b.localStorage.getItem("signupTime");if(i){var s=Date.now()-i;s<_.u&&I.default.logToServer(I.default.SERVER_LOG_TYPE.SIGNUP_LOAD,I.default.HTTP_METHOD.POST,{timing:s,component:"nux"}),j.b.localStorage.removeItem("signupTime")}var l=!r||r.length!==t.defaultInterestsResource.length,c=this.state.defaultInterests,u=!c||0===c.length;if(l||u){var p=o?this.mapValuePropInterests(a,t):this.mapInterests(a,t);this.setState({defaultInterests:p})}}},t.prototype.componentWillUpdate=function e(t,n){if(this.state.defaultInterests!==n.defaultInterests){var r=110,o=4,a=new z.a;a.beginTiming({eventName:110,metricCause:4,isPageLoad:!1}),this.renderTimersPWT.unshift(a),this.renderTimers.unshift((new A.a).start())}},t.prototype.componentDidUpdate=function e(t,n){var r=this.state.defaultInterests;r!==n.defaultInterests&&(this.renderTimersPWT.length&&(this.recordRenderPWT(),this.recordedSignupToNuxRenderPWT||this.recordSignupToNuxRenderPWT()),this.renderTimers.length&&this.recordRenderLogToServer()),r.length>0&&0===n.defaultInterests.length&&this.props.preselect&&this.preselectInterests()},t.prototype.getInterestsWithUpdatedIsFollowed=function e(){var t=this.props,n=t.selectedInterests,r=t.suggestedInterests,o=this.state.defaultInterests;return(r?r.concat(o):o).map(function(e){return e.is_followed=Object(O.a)(n,e),e})},t.prototype.mapInterests=function e(t,n){var r=this,o=n.defaultInterestsResource.map(function(e){return Object.assign({},e,{image:e.images["400x"].url,label:e.name,boxColor:r.props.showTextOnlyTopics&&Object(M.a)()})});return this.props.onSelectedInterestsChange(o.filter(function(e){return e.is_followed}),!0),t.concat(o)},t.prototype.mapValuePropInterests=function e(t,n){var r=[];return n.defaultInterestsResource.forEach(function(e,t){var n={row:t,rowName:e.custom_name};e.l2s.slice(0,_.z).forEach(function(e){r.push(Object.assign({},n,e.interest,{image:e.interest.images["400x"].url,label:e.interest.name}))})}),this.props.onSelectedInterestsChange(r.filter(function(e){return e.is_followed}),!0),t.concat(r)},t.prototype.preselectInterests=function e(){var t=this.props,n=t.numberToFollow,r=t.onSelectedInterestsChange,o=this.state.defaultInterests,a=n||_.g;r(o.slice(0,a),!0)},t.prototype.render=function e(){return m.a.createElement(B,Object.assign({},this.props,{interests:this.getInterestsWithUpdatedIsFollowed(),handleInterestClick:this.handleInterestClick}))},t}(d.Component);Z.contextTypes={country:v.a.string,locale:v.a.string,userAgent:v.a.shape({browserName:v.a.string})};var X=Object(W.compose)(D.a,Object(V.b)({name:"NuxInterestsResource",key:"defaultInterestsResource",options:function e(t){return{is_renux:t.isRenux,inRenuxValueProp:t.inRenuxValueProp,showFollowers:t.showTopicFollowers,logNetworkTimer:!0,loggerComponentName:_.q}}},{allowStale:!1}))(Z),K=n("ZtCB"),Y=n.n(K),q=n("suNN"),J=n("kufG"),Q=function e(t){return y.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",t,"number of interests left to pick")},$=function(e){function t(n,r){c(this,t);var o=u(this,e.call(this,n,r));o.handleNextClick=function(){var e=o.props,t=e.contextLog,n=e.customProcessFollowedInterests,r=e.isRenux,a=e.numberToFollow,i=e.selectedInterests,s=e.followedInterests,l=e.incrementNuxStep;if(n)return n(),void l();if(i.length>=a||_.f){var c=void 0;if(r){var u={updated_interest_follows:s.reduce(function(e,t){return e[t.id]=t.is_followed,e},{})};c=Promise.resolve(Y.a.create("UpdateFollowedInterestsResource",u).callUpdate()).then(Promise.resolve(Y.a.create("OrientationRefreshHomefeedResource",{redo_homefeed:!0}).callUpdate()))}else{var p=[],d=[];i.forEach(function(e){p.push(e.id),d.push(e.log_data?e.log_data:null)});var m={interests:p.join(),log_data:JSON.stringify(d),referrer:"nux",user_behavior_data:Object(b.a)()},h=Y.a.create("OrientationContextResource",m);c=Promise.resolve(h.callCreate())}c.then(function(){t(101,{component:17,element:96,view:24,viewParameter:172}),l()})}},o.handleSingleUseCaseNextClick=function(){var e=o.props,t=e.contextLog,n=e.numberToFollow,r=e.selectedPins,a=e.incrementNuxStep;if(r.length>=n||_.f){var i=[],s=[];r.forEach(function(e){i.push(e.id),s.push(e.log_data?e.log_data:null)});var l={pins:i.join(),log_data:JSON.stringify(s)},c=Y.a.create("NuxSingleUseCaseHomefeedResource",l);Promise.resolve(c.callCreate()).then(function(){t(101,{component:17,element:96,view:24,viewParameter:172}),a()})}};var a={nextButtonText:n.nextButtonText,nextButtonTextSingleTopic:n.nextButtonTextSingleTopic,completionNextButtonText:n.completionNextButtonText},i=o.getButtonState([],n.numberToFollow||_.f,n.skipButton,a);return o.state=Object.assign({},i),o}return p(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:24,viewParameter:172})},t.prototype.componentWillReceiveProps=function e(t){var n=this.props,r=n.numberToFollow,o=n.isSingleUseCase,a=n.selectedInterests,i=n.selectedPins,s=n.skipButton,l=n.nextButtonText,c=n.nextButtonTextSingleTopic,u=n.completionNextButtonText;if(a.length!==t.selectedInterests.length||i.length!==t.selectedPins.length){var p={nextButtonText:l,nextButtonTextSingleTopic:c,completionNextButtonText:u},d=this.getButtonState(o?t.selectedPins:t.selectedInterests,r||_.f,s,p);this.setState(Object.assign({},this.state,d))}},t.prototype.getButtonState=function e(t,n,r,o){var a=t.length,i=Math.max(0,n-a),s=o.nextButtonText,l=o.completionNextButtonText,c=(0,this.props.pickButtonTextGenerator)(i),u={0:{buttonText:l||y.a._("Done"),isDisabled:!1,isSkip:!1},more:{buttonText:h.h(s||c,{numberLeftToFollow:""+i}),isDisabled:!0,isSkip:!1},skip:{buttonText:y.a._("Skip (pick topics for me)"),isDisabled:!1,isSkip:!0}};return r?0===i?u[0]:u.skip:0===i?u[0]:u.more},t.prototype.render=function e(){var t=this.props,n=t.experiments,r=t.isRenux,o=t.numberToFollow,a=t.personalizationCopy,i=t.selectedInterests,s=t.topicDecrementingTextGroup,l=this.state,c=l.isDisabled,u=l.isSkip,p=l.buttonText,d=["enabled_bottom","enabled_top_right"].includes(s)&&!u?y.a._("Next"):p,h="enabled_top_right"!==s,f=r&&"enabled"===n.activate("web_renux_interest_value_prop"),b="enabled"===n.activate("text_only_topic_picker"),w=!r&&"enabled"===n.v2ActivateExperiment("web_nux_topic_followers");return m.a.createElement("div",{className:g()("NuxPicker__contentWrapper")},m.a.createElement("div",{className:"visuallyHidden",role:"alert"},Object(q.b)(y.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:i.length})),m.a.createElement(T,Object.assign({},this.props,{buttonText:d,isDisabled:c,isSkip:u,showBottomButton:h,handleNextClick:this.handleNextClick,numberToFollow:o||_.f,personalizationCopy:a})),m.a.createElement(X,Object.assign({},this.props,{inRenuxValueProp:f,showTextOnlyTopics:b,showTopicFollowers:w})),m.a.createElement(x,Object.assign({},this.props,{buttonText:d,isDisabled:c,isSkip:u,showBottomButton:h,handleNextClick:this.handleNextClick,showFooter:!0})))},t}(d.Component);$.defaultProps={skipButton:!1,pickButtonTextGenerator:Q},$.contextTypes={country:v.a.string,locale:v.a.string,userAgent:v.a.shape({browserName:v.a.string})};var ee=t.a=Object(W.compose)(D.a)($)},qzVV:function(e,t,n){"use strict";var r=function e(t,n,r){this.type=t,this.target=n,this.currentTarget=n,this.data=r||{},this.stopped=!1};r.prototype.stopPropagation=function(){this.stopped=!0},r.prototype.shouldPropagate=function(){return!this.stopped},t.a=r},tRx9:function(e,t,n){function r(e){return null==e?[]:o(e,a(e))}var o=n("NRt2"),a=n("k5jk");e.exports=r},tvce:function(e,t,n){"use strict";function r(e){var t={};return e.forEach(function(e){var n=i.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}function o(){return r(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function a(){return r(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}t.a=o,t.b=a;var i=n("ieR2")},wTOG:function(e,t,n){function r(e){return o(a(e))}var o=n("4va0"),a=n("tRx9");e.exports=r},yAhl:function(e,t,n){function r(e){return(i(e)?o:a)(e)}var o=n("jklE"),a=n("wTOG"),i=n("/BQV");e.exports=r}});